<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[学习笔记:初识httpd]]></title>
    <url>%2F2018%2F11%2F02%2F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%3A%E5%88%9D%E8%AF%86httpd%2F</url>
    <content type="text"><![CDATA[提醒：这只是一篇学习笔记，不保证语句通顺，仅作记录。 学习目标 安装 httpd、php、mysql 建立 两个 虚拟主机建立网站，并申请 SSL 使其能够通过 https 访问 学习过程安装12345yum updateyum -y install httpd php mysql mysql-server php-mysqlyum -y install httpd-manual mod_ssl mod_perl mod_auth_mysql php-gd php-xml php-mbstring php-ldap php-pear php-xmlrpc php-devel php-mbstring php-mcrypt mysql-connector-odbc mysql-devel libdbi-dbd-mysql openssl mod_ssl 设置开机启动12chkconfig httpd on chkconfig mysqld on 建立虚拟主机文件夹12cd /homemkdir www 修改httpd配置文件12cd /etc/httpd/confvi httpd.conf 加入1Include /home/www/vhost.conf 解析域名略 新建虚拟主机建立虚拟主机路径12cd /home/wwwmkdir hk.lvcshu.info 新建虚拟主机配置1vi vhost.conf 写入12345678910111213NameVirtualHost *:80&lt;VirtualHost *:80&gt; DocumentRoot /home/www/hk.lvcshu.info ServerName hk.lvcshu.info&lt;/VirtualHost&gt;&lt;Directory &quot;/home/www/hk.lvcshu.info&quot;&gt; Options Indexes FollowSymLinks AllowOverride all Order Deny,Allow Deny from none Allow from all&lt;/Directory&gt; 建立一个简陋的主页略 申请证书使用 acme.sh 的开源项目 1234curl https://get.acme.sh | shcd .acme.shacme.sh --issue -d hk.lvcshu.info --webroot /home/www/hk.lvcshu.info/ 证书路径：/etc/letsencrypt/live/hk.lvcshu.info/ 12SSLCertificateFile /etc/letsencrypt/live/hk.lvcshu.info/cert.pemSSLCertificateKeyFile /etc/letsencrypt/live/hk.lvcshu.info/privkey.pem 配置 https1234567&lt;VirtualHost *:443&gt;DocumentRoot /home/www/hk.lvcshu.infoServerName hk.lvcshu.infoSSLEngine onSSLCertificateFile /etc/letsencrypt/live/hk.lvcshu.info/cert.pemSSLCertificateKeyFile /etc/letsencrypt/live/hk.lvcshu.info/privkey.pem&lt;/VirtualHost&gt; return 0;]]></content>
      <tags>
        <tag>建站</tag>
        <tag>折腾</tag>
        <tag>CentOS</tag>
        <tag>httpd</tag>
        <tag>原创</tag>
        <tag>学习笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[小米路由器3G刷机实录]]></title>
    <url>%2F2018%2F10%2F08%2F%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A83G%E5%88%B7%E6%9C%BA%E5%AE%9E%E5%BD%95%2F</url>
    <content type="text"><![CDATA[好久没有更新过博客啦，一方面是大学刚刚开学很多事情需要准备，另一方面是我tm经历了惨无人道的军训啊啊啊啊，整个人都黑了好几圈！！ 说起路由器嘛，是因为我不想长期开着笔记本电脑的热点，但是晚上又想在床上刷刷b站，流量又没有，所以买个路由器是最好的解决方案了，通过网上的了解，小米路由器是新手刷固件比较具有性价比的选择，所以我就买了咯（前排提醒，不要买小米路由器青春版啊之类的，官网并没有提供开发版本固件，所以。。。。除非你是硬件大佬，不然就不要想着刷固件了） 本次刷固件基于 简单易学，人人上手:刷小米路由3G SSH和第三方固件 华硕 潘多拉 梅林固件 的教程来进行的，总体来说大的方向没有错，只是有一些小的细节可能是因为我蠢教程里写的并不是很清晰明了，所以我会稍作补充。 开启 SSH 功能刷机一开始当然要开启 SSH 功能啦，而小米路由器是可以通过在 小米路由器官网 下载对应路由器的开发版本固件并刷入就可以开启 SSH 功能了，要注意的是，刷了开发版本固件之后是会丧失小米的保修的哦！ 不过你都打算刷固件了。大概也是不在乎保修了XD 刷开发版固件 点击下载，开发版。 刷开发版步骤： 方法①打开浏览器，输入192.168.31.1，然后登陆你的小米路由后台，点击常用设置，其他。选择手动升级，点击刚刚下载的固件，需要清空数据，然后坐等就行； 方法②下载路由器3G对应的开发版ROM包，并将其放在U盘的根目录下，命名为miwifi.bin，断开小米路由器的电源，将U盘插入路由器的USB接口，按住reset按钮后重新接入电源，待指示灯变为黄色闪烁状态后松开reset键（需要20秒左右），等待5~8分钟，刷机完成之后系统会自动重启并进入正常的启动状态（指示灯由黄灯常亮变为蓝灯常亮），此时，说明刷机成功完成！ 如果出现异常/失败/U盘无法读取状态，会进入红灯状态，建议重试或更换U盘再试。 【注意事项】这里的U盘必须是FAT32格式的，而且不能是PE启动的U盘，最好是拿U盘快速格式化，然后直接放包，不然肯定失败。 开启 SSH点击进入 小米路由器开放平台 点击按钮 (图片经过特殊处理) 点击下载工具包 刷SSH步骤：请将下载的工具包bin文件复制到U盘（FAT/FAT32格式）的根目录下，保证文件名为miwifi_ssh.bin；断开小米路由器的电源，将U盘插入USB接口；按住reset按钮之后重新接入电源，指示灯变为黄色闪烁状态即可松开reset键（20秒左右）；等待3-5秒后安装完成之后，小米路由器会自动重启，之后您就可以尽情折腾啦 ： 【注意事项】这里的U盘必须是FAT32格式的，而且不能是PE启动的U盘，最好是拿U盘快速格式化，然后直接放包，不然肯定失败。 手机连接小米路由，开始初始化，随意wifi名称和设置密码。 下面的教程分为windows系统与linux系统，因为windows系统的ssh教程略为复杂，将用大神写好的工具程序完成刷入 breed 的过程，而 linux 系统的 ssh 较为便利，所以使用手动刷入的方法，理论上两者刷入后的效果是一样的 windows 教程 转载于 简单易学，人人上手:刷小米路由3G SSH和第三方固件 华硕 潘多拉 梅林固件 这一部分的教程适用于windows系统 直接百度搜索 路由器刷breed Web控制台助手 即可。 下载好了就开始操作。 ①，打开文件夹，右键管理员权限运行该程序 ②打开软件后，选择如图所示 ③然后，登录名和密码。 登录名不用修改，就是root，密码为之前ssh工具后面的那个密码。。 ip地址如果你没改过默认是192.168.31.1，ssh端口默认22 ～～～～～～～～～～～ 最后点击开始刷机，等待5分钟左右即可！ 【注意事项】密码就是刚刚SSH里面的root后面的密码，不是你设置的路由器密码，切记。备份：ALL 那边不要勾选，勾选会出错。 最后就很简单了，你已经刷入breed控制台。 断电路由器后，按住Reset恢复出厂设置5秒，接入电源，灯闪烁三下后松开。 注意：这一步是将你的电脑用网线与路由器的 WAN 口连起来继续操作 浏览器输入192.168.1.1即可进入 breed 控制台！ 【注意事项】刷机成功之后，不要点击自动进入breed控制器，选择否。然后重启路由器，按reset键恢复出厂设置。 完成这一步请前往 这里 linux 教程linux系统下的刷固件就要简单许多了，首先在 breed固件下载页面 老毛子固件下载页面 下载到符合路由器型号的固件，例如小米路由器3G的固件就是包含 MI-R3G 的固件。 然后采取你喜欢的方法将 breed 的固件改名为 breed.bin 方便我们下一步的操作，接着采用你喜欢的方法将 breed.bin 上传到路由器的 /tmp 目录，然后使用 ssh 连上路由器 1mtd -r write /tmp/breed.bin Bootloader 刷入后，机器会重新启动，固定电脑有线网卡的IP为192.168.1.3，用牙签顶住路由的reset键开机，等到路由的灯狂闪的时候，松开reset键，电脑上在浏览器中输入192.168.1.1，就会进入breed的控制台。 注意：这一步是将你的电脑用网线与路由器的 WAN 口连起来继续操作 完成这一步请前往 这里 刷入第三方固件进入固件更新，选择固件后即可刷入！最新固件在最下方的链接里面，可到百度网盘下载MI-R3G_3.4.3.9-099.trx 刷了华硕固件后，默认ip地址192.168.123.1 Wi-Fi 密码默认1234567890 登录名和密码默认admin 华硕固件更新网站 潘多拉和梅林固件可自行百度。进入breed界面恢复固件选择对应就行。 本文转载了：简单易学，人人上手:刷小米路由3G SSH和第三方固件 华硕 潘多拉 梅林固件小米路由器刷机指南（以R3G为例）]]></content>
      <tags>
        <tag>折腾</tag>
        <tag>小米路由器</tag>
        <tag>老毛子固件</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[自建域名邮箱：EwoMail]]></title>
    <url>%2F2018%2F09%2F14%2F%E8%87%AA%E5%BB%BA%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1%2F</url>
    <content type="text"><![CDATA[在网络世界中邮箱已经成为了每一位网民的标配，邮箱能够用来注册帐号，验证身份，而提供邮箱服务的说多不多，说少也不少，不过在人人都能够拥有的 qq.com gmail.com 163.com 之中如果你能拥有一个与别人不同的个性化的邮箱后缀这会显得很装比很有个性，而购买了域名以后架设邮箱服务也成了我的难题，首先，我不想使用国内提供的邮箱托管服务，他的服务虽然符合国人的使用习惯，但是也伴随着风险查水表了解一下？ 而国外的服务，也有许多 例如 zoho ，但是他的免费服务通常是残疾的，而付费服务又需要使用信用卡来作为支付方式，我没有。所以在漫漫的网络海洋之中找到了这一款域名邮箱套件，不是iredmail，那玩意好是好，但是太占资源 环境Centos 6/7 纯净的系统 安装提醒强烈不推荐在中华人民共和国大陆地区内的域名注册商注册域名 准备关闭selinux12vi /etc/sysconfig/selinuxSELINUX=enforcing 改为 SELINUX=disabled 检查swap如果没启动swap，这会导致EwoMail的防病毒组件不能启动，所以在安装前先检查swap是否已经启动，如已启动可跳过该步骤。 查看swap1[root@mail ~]# free -m 如果swap位置都显示是0，那么系统还没创建swap 创建swap分区（内存超过2G，可不配置） 创建1G的swap，可以根据你的服务器配置来调整大小12345678[root@mail ~]# dd if=/dev/zero of=/mnt/swap bs=1M count=1024 设置交换分区文件[root@mail ~]# mkswap /mnt/swap启动swap[root@mail ~]# swapon /mnt/swap 设置开机时自启用 swap 分区 需要修改文件 /etc/fstab 中的 swap 行，添加/mnt/swap swap swap defaults 0 0 邮箱域名EwoMail本身是可以配置多个域名来收发邮件的，但在安装前需要一个邮箱的主域名。本次教程例子使用的主域名是ewomail.cn 安装安装前请服务器必须已链接网络，安装时间将会根据你的系统配置和网络环境大概会在10分钟内安装完成。（需要root权限） 打开：http://ewomail.com/list-11.html 输入你的域名获取安装代码 执行安装命令后全程会自动安装（需要root权限） 1[root@mail ~]# wget -c http://download.ewomail.com/ewomail-1.0.sh &amp;&amp; sh ewomail-1.0.sh ewomail.com 安装过程中可能会显示 shutting down postfix : FAILED，如果它的下面再出现一条 starting postfix : OK ，那就是正常的。 安装成功后将会输出&quot;Complete installation&quot;。 查看安装的域名和数据库密码1[root@mail ~]# cat /ewomail/config.ini 以上内容来自官网文档 开放25端口先说一句，我的邮箱服务器是在 Vultr 购买的，而这个公司为了避免用户恶意滥发邮件而默认封禁了所有机器的25端口，需要发工单与客服聊天交流从而解封 以下是我的工单记录，以供参考（我的英语水平请忽略）： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758me:Please unblock port 25. WordPress need it open. Thanks!staff:Hello ,Thank you for your SMTP unblock request!In order to combat spam and spam-like activities, we will need to review some additional information prior to removing the SMTP filter.Please reply to this ticket with the following information:1. The business name and organization URL(s) under which you offer services.2. Describe, in as much detail as possible, the nature of the emails you intend to send.3. The volume of email that you plan to deliver on a daily/monthly basis.We need to know this in order to make an informed decision regarding your account settings and resource limits to ensure the integrity of our network/systems/online reputation.Regards,Turat M.Vultr.comme:Hello, I want to unlock port 25 because I want to build a private domain mailbox, which does not send more than 100 messages per month and is for private use only. Thank youstaff:Hello,Thank you for the follow up.However, can you please clarify in as much detail as possible the nature of the emails that you intend to send, and please include the URL or name under which you offer your services. We appreciate your understanding regarding this matter.If you have any additional questions our team is happy to assist you further.Kind Regards,Mel B.Customer Supportwww.VULTR.comme:The nature of my use of this email service is just like you usually use gmail. The domain name of the service is lvcshu.infostaff:Hello,Thank you for the information provided!We have removed the default SMTP block on your account. Please restart any active instances via https://my.vultr.com for the change to take effect (restarting via the server itself _will_not_ work).Also, keep in mind that marketing and bulk email is restricted in our platform. For reference, our ANTI-SPAM policy is listed here: https://www.vultr.com/legal/antispam_policy.phpIf you have any additional questions our team is happy to assist you further.Kind Regards,Mel B.Customer Supportwww.VULTR.com 可以看出来，还是蛮容易的那些传真了身份证明的别来打我哈哈哈]]></content>
      <tags>
        <tag>折腾</tag>
        <tag>自建邮箱</tag>
        <tag>域名邮箱</tag>
        <tag>EwoMail</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[跨平台U盘启动盘制作神器 Etcher]]></title>
    <url>%2F2018%2F08%2F30%2F%E8%B7%A8%E5%B9%B3%E5%8F%B0U%E7%9B%98%E5%90%AF%E5%8A%A8%E7%9B%98%E5%88%B6%E4%BD%9C%E7%A5%9E%E5%99%A8-Etcher%2F</url>
    <content type="text"><![CDATA[怎么说…这一个工具好像没有啥好介绍的，就按着他的提示一步一步来就可以相当方便的制作好U盘启动盘了，当然你得自己准备好系统镜像文件，简单。 对比其他几款。。。没眼看 跟这款比起来简直就是秒杀 好吧没有办法尬聊了。 项目地址： https://github.com/resin-io/etcher/]]></content>
      <tags>
        <tag>折腾</tag>
        <tag>U盘启动盘</tag>
        <tag>跨平台</tag>
        <tag>Etcher</tag>
        <tag>神器</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu安装 thinkpad S2 无线网卡驱动]]></title>
    <url>%2F2018%2F08%2F28%2FUbuntu%E5%AE%89%E8%A3%85thinkpad-S2-%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[无法识别？最近入手了一台 thinkpad S2 ，打开 windows 系统，觉得缺了点什么，于是连忙把 ubuntu 系统也安装了上去，但是在配置 ubuntu 系统的时候并没有让我连接网络的选项，当时就感觉有些奇怪，但是木放在心上。安装完成后打开 ubuntu 系统发现系统 根本没有 检测到无线网卡的存在，于是我就慌了，赶紧回到 windows 系统，看见了无线网卡的型号 1Realtek 8821CE Wireless LAN 802.11ac PCI-E NIC 于是使用强大的 百度 google 搜索解决办法，最后在 ubuntu论坛的这个帖子里发现了解决办法。 解决方法由这个帖子里里的大佬在这里请教到的大佬给出解决方法 原文如下： 1234567891011121314Worked solution (Requirements: kernel &gt;=4.11) :(UPD: In the latest release of endlessm you need kernel version 4.15)Download driver directory from this repo: https://github.com/endlessm/linux/tree/master/drivers/net/wireless/rtl8821ceYou can do it by this link: https://minhaskamal.github.io/DownGit/#/home?url=https://github.com/endlessm/linux/tree/master/drivers/net/wireless/rtl8821ceUnpack zip archive.Change the Makefile. Line &quot;export TopDIR ?= ...&quot; to export &quot;TopDIR ?= PATH TO EXTRACTED DIRECTORY&quot;.$ make$ sudo make install$ sudo modprobe -a 8821ce 至此，完美解决了这个问题 一点小问题在某次 ubuntu 的内核升级了以后，我发现我的无线网卡驱动又没了 马上扔掉电脑 于是我想到了使用脚本进行安装，这样就可以在下一次遇到这样的问题时快速解决！ 脚本内容： 1234567891011#!/bin/bashmv rtl8821ce.zip /home/johnpointcd ~unzip rtl8821ce.zipcd rtl8821cemakesudo make installsudo modprobe -a 8821ceexit 0 撒花]]></content>
      <tags>
        <tag>折腾</tag>
        <tag>Thinkpad S2</tag>
        <tag>Intel</tag>
        <tag>无线网卡</tag>
        <tag>问题存档</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[密码管理器是好文明]]></title>
    <url>%2F2018%2F08%2F24%2F%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E5%99%A8%E6%98%AF%E5%A5%BD%E6%96%87%E6%98%8E%2F</url>
    <content type="text"><![CDATA[密码一直以来是人们帐号的一个薄弱点，通过各种各样的途径，想要获取他人密码的人总能获取到另他们满意的信息，而人们喜欢利用自己个人信息的组合作为密码立下了汗马功劳，而一些人对于密码重要性毫不了解从而设下简单密码的人也功不可没，而我，一直以来使用的是一串字符串所生成 md5 来作为我帐号的密码，自认为十分安全，实则不然，因为密码中只含有小写字母和数字，是可以实现暴力破解的。加上一些特殊符号的密码是目前为止相对安全的密码解决方案，但是 复杂的密码太难记了啊 这该咋办，直到某群大佬说出了 密码管理器是好文明（） 我才发现原来早就有人想到解决方案了。 目前，网络上流行的有四款密码管理器： KeePass：免费 开源 兼容性强 LastPass：最大的优势是跨浏览器平台 1Password：跨平台管理 用户认可度高 Enpass：支持平台多 20条密码免费 而其中，我第一时间试用了 LastPass 发现多设备使用需要高级版本授权，而授权居然需要 VISA卡 （我没有啊啊啊啊） ，于是舍弃。后来我看见了开源解决方案 KeePass 在经过一段时间的使用之后，觉得用起来十分舒服，而且支持 Linux 、Windows 和手机系统，而且支持 Webdav ，这在自己已经搭建了网盘的人来说简直就是太爽了，不用担心密码存放在别人手里而不安全，但是安全设施一定要做好。 KeePass 同样采用了主流的一个主密码打开密码数据库文件的模式，这时，这个主密码就代表了你的所有密码，需要尽可能的兼顾复杂与你的好记，这就是唯一需要做的。至于其他密码，KeePass 提供了随机密码生成器，能自定义生成密码包含 字母、符号、特殊字符等内容，还可以自定义长度，总之就是非常爽就是了。 在用上 KeePass 的那一晚，我就把每一个可以想起来的帐号都改成了自动生成的强密码，感觉自己的帐号安全提升了不止一点半点，美滋滋～ 赶快去尝试下咯～]]></content>
      <tags>
        <tag>安全</tag>
        <tag>密码</tag>
        <tag>Keepass</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[博客双开，避免offline™]]></title>
    <url>%2F2018%2F08%2F07%2F%E5%8D%9A%E5%AE%A2%E5%8F%8C%E5%BC%80%EF%BC%8C%E9%81%BF%E5%85%8Doffline%E2%84%A2%2F</url>
    <content type="text"><![CDATA[怎么双开博客呢？ 答案就是—— vps 与 github 一起部署。。。 好吧，我承认我是标题党了一下，主要是记录一下我 成功部署 完 hexo 博客了以后如何将博客部署到 github 上去。 创建远程仓库就是在 github 上创建一个名称为 用户名.github.io 的仓库，这一个仓库可以在自动化部署之后在 用户名.github.io 生成博客，而用 github 在全世界（除中国大陆，中国大陆就是互联网上的孤岛）外厉害的 cdn ，我们的博客访问速度会比较快， 注意，一开始我是选择不初始化仓库，这样可以避免一些莫名奇妙的坑！ 修改 站点配置在 站点根目录 下的 _config.yml 寻找 deploy 关键词，将其 整部分 修改为： 1234deploy: type: git repo: GitHub上仓库的完整路径包括 .git branch: master repo 的链接一定要是 ssh 而不是 https 的！！！ 配置 git生成 ssh 密钥12git config --global user.name &quot;你的GitHub用户名&quot;git config --global user.email &quot;你的GitHub注册邮箱&quot; 生成ssh密钥文件：1ssh-keygen -t rsa -C &quot;你的GitHub注册邮箱&quot; 然后直接三个回车即可，默认不需要设置密码然后找到生成的 .ssh 的文件夹中的 id_rsa.pub 密钥，将内容全部复制 打开 GitHub_Settings_keys 页面，新建 new SSH Key Title 为标题，任意填即可，将刚刚复制的 id_rsa.pub 内容粘贴进去，最后点击 Add SSH key。 大功告成！ 以上部分内容来自 GitHub+Hexo 搭建个人网站详细教程 推送博客至 github好了，我们使用下面的一条指令就可以将博客推送到 github 上，实现某些意义上的 neveroffline™ 了！ 撒花～～]]></content>
      <tags>
        <tag>blog</tag>
        <tag>github</tag>
        <tag>git</tag>
        <tag>备份</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[设定微信自动发送信息(续)]]></title>
    <url>%2F2018%2F07%2F30%2F%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF%EF%BC%88%E7%BB%AD%EF%BC%89%2F</url>
    <content type="text"><![CDATA[在写完了上一篇文章以后，问题来了，有个人开始笑话我代码自带加密，于是，按照他的要求改了一下，顺便加上了从10～15分钟随机抽取间歇时间的功能，代码如下： 1234567891011121314151617181920212223242526272829var appElement = document.querySelector(&apos;[ng-controller=chatSenderController]&apos;);var $scope = angular.element(appElement).scope();var n = 10;var m = 15;//引入sleepfunction sleep(ms) &#123; return new Promise(resolve =&gt; setTimeout(resolve, ms))&#125;//发送消息async function test() &#123; $scope.editAreaCtn = &quot;消息内容&quot;; $scope.sendTextMessage();&#125;//产生n~m的随机数function rd(n,m)&#123; var c = m-n+1; return Math.floor(Math.random() * c + n);&#125;//死循环while(true)&#123; test(); t = rd(n,m) console.log(t) await sleep(t * 10000);&#125; 今日水文结束]]></content>
      <tags>
        <tag>微信</tag>
        <tag>javascript</tag>
        <tag>折腾</tag>
        <tag>chrome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[设定微信自动发送信息]]></title>
    <url>%2F2018%2F07%2F29%2F%E8%AE%BE%E5%AE%9A%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF%2F</url>
    <content type="text"><![CDATA[警告：使用本方法有被微信封号的可能，请慎用 吐槽首先先说一说吐槽一下微信封闭的生态圈，除了开放给搜狗这个搜索引擎可以搜索微信公众号的 api 之外，几乎没有开放任何可以利用的 api ，固然这有其在安全方面的考虑，但是这就使得一些比较有趣的功能难以实现，例如机器人。而一些比较实用的功能又在官方垃圾客户端中没有实现。 需求在 chrome 上了 web 版微信的基础上利用 chrome 自带的 console + javascript 实现 自动、循环、发送信息 施工首先声明，我在事前并 没有 了解过 javascript 这种语言，一切都是通过善用搜索引擎来一步一步实现的，所以请各位看到这一篇文章的大佬们看到有什么不妥的地方欢迎在评论区指出。 网页源码首先当然是登录网页版微信，顺手打开 F12 开发者工具，尝试着发送了几条信息，并在 network 选项卡里面观察了一下网页的活动，然后发现 &lt;pre id=&quot;editArea&quot; contenteditable-directive=&quot;&quot; mm-paste=&quot;&quot; class=&quot;flex edit_area ng-isolate-scope ng-pristine ng-valid&quot; contenteditable=&quot;true&quot; ng-blur=&quot;editAreaBlur($event)&quot; ng-model=&quot;editAreaCtn&quot; ng-click=&quot;editAreaClick($event)&quot; ng-keyup=&quot;editAreaKeyup($event)&quot; ng-keydown=&quot;editAreaKeydown($event)&quot;&gt;&lt;/pre&gt; 然而并没有什么用。。。 google搜索然后，我分别以 微信、发信息、chrome、console、javascript 为关键词进行搜索，最终发现了这篇文章–&gt;用javascriptt脚本实现微信定时发送信息，关键词命中。遂打开，发现正是我想要的。 修改代码12345678910111213141516171819// 周一----周五： 6:50 AM 提醒对方起床， 9：30 PM提醒对方回宿舍 var appElement = document.querySelector(&apos;[ng-controller=chatSenderController]&apos;); var $scope = angular.element(appElement).scope(); setInterval(function()&#123; var localTime = new Date(); if(localTime.getDay() &lt; 6)&#123; //非周末 var localTimeString = localTime.toLocaleTimeString(); if(localTimeString.indexOf(&apos;上午6:49:00&apos;) === 0)&#123; $scope.editAreaCtn = &quot;6.50了，你该起床了！&quot;; $scope.sendTextMessage(); &#125;else if(localTimeString.indexOf(&apos;上午6:54:00&apos;) === 0)&#123; $scope.editAreaCtn = &quot;今天又是新的一天，祝你好运！&quot;; $scope.sendTextMessage(); &#125;else if(localTimeString.indexOf(&apos;下午9:28:00&apos;) === 0)&#123; $scope.editAreaCtn = &quot;时间快到9:30了，你该回去了！&quot;; $scope.sendTextMessage(); &#125; &#125; &#125;,1000); 在这篇文章中，发送微信消息之前还要进行一波判断，但是我不需要，我只需要无脑发就行，（对了还要设置一个间歇时间，不然就成了刷屏了），最终改成这样： 1234567var appElement = document.querySelector(&apos;[ng-controller=chatSenderController]&apos;);var $scope = angular.element(appElement).scope();setInterval(function()&#123;$scope.editAreaCtn = &quot;消息内容&quot;;$scope.sendTextMessage();&#125;,1000); 然后把这一段小代码输进 console 运行了一下，哎呦，太快了。赶紧停下，发现 chrome 已经全神贯注发信息卡死了。。。无奈只好 kill 了 chrome 的进程。 sleep 的加入以及最终成果然后想起 python 是有 sleep 这种用法的，马上搜索下，发现了一种 javascript sleep 的土制方法（ javascript 本身不支持 sleep ） 最后修改了下代码，再结合 for 进行死循环，最终成果： 123456789101112131415161718var appElement = document.querySelector(&apos;[ng-controller=chatSenderController]&apos;);var $scope = angular.element(appElement).scope();async function test() &#123;$scope.editAreaCtn = &quot;发送内容&quot;;$scope.sendTextMessage();&#125;function sleep(ms) &#123; return new Promise(resolve =&gt; setTimeout(resolve, ms))&#125;i=0for(;;i++)&#123;test()await sleep(1000000)&#125; 那么，只需要登录网页版微信，定位到想发信息的聊天窗口，运行即可！]]></content>
      <tags>
        <tag>微信</tag>
        <tag>javascript</tag>
        <tag>折腾</tag>
        <tag>chrome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[便捷管理hexo]]></title>
    <url>%2F2018%2F07%2F19%2F%E4%BE%BF%E6%8D%B7%E7%AE%A1%E7%90%86hexo%2F</url>
    <content type="text"><![CDATA[唉，博客架设好了，但是问题来了，如果每一次都使用 hexo new post 命令来进行博文的创建，再使用命令来进行博客的生成未免有些过于麻烦，经过一番搜索发现有两款插件可以实现 hexo 的后台管理，但是使用了以后感觉效果并不好，主要在于插件页面粗糙，操作复杂。 于是决定用自己的方法来搞定博客的后台管理，首先想到的是使用 telegram bot 来进行管理，但是坑挖得有点大，而且操作并不方便。最后我想到了使用 caddy 的 FileBrowser 插件来实现网站在线管理，这样既能保证操作的简便，又能保证界面的美观性。 安装 Caddy 以及 FileBrowser 使用 利用 Caddy FileBrowser扩展 非常简单的部署 私人网盘/在线文件管理器 的方法进行安装 安装 Caddy1234wget -N --no-check-certificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager# 如果上面这个脚本无法下载，尝试使用备用下载：wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager 配置 Caddy因为我们要使用 caddy 来进行博客管理，我们可以将 caddy 的文件目录甚至为网站的根目录，或者可以直接将目录设置在 网站目录/source/_post 下，直接对博文进行管理，为避免 caddy 与 nginx 互相干扰，我采用 ip 进行访问，配置命令如下123456789# 以下全部内容是一个整体，是一个命令，全部复制粘贴到SSH软件中并一起执行！echo &quot;:4000 &#123; root 网站目录/source/_post timeouts none gzip filemanager / 网站目录/source/_post &#123; database /usr/local/caddy/filemanager.db &#125;&#125;&quot; &gt; /usr/local/caddy/Caddyfile 当你已经配置完上面步骤后，那就需要启动Caddy了。1/etc/init.d/caddy start 如果启动失败可以看Caddy日志： tail -f /tmp/caddy.log FileBrowser 使用说明配置并打开网站后，默认账号和密码都是 admin，可以登陆后修改。[Settings] 切换中文进入后可以点击左边侧栏 [Settings] 进入设置页面，然后选择 [language - Chinese (Simplified)] ，并点击右下角第一个 [Update] 按钮更新。 使用技巧一些按键有对应的作用：12345678F1 - 查看帮助F2 - 重命名 文件/文件夹DEL - 删除所选 文件/文件夹ESC - 清除当前选择 或 关闭提示CTRL + S - 保存下载 文件/文件夹（zip压缩）CTRL + 鼠标左键 单击 - 选择多个文件/文件夹鼠标左键 双击 - 打开文件/文件夹鼠标左键 单击 - 选择文件/文件夹 Caddy 使用说明123456789101112131415启动：/etc/init.d/caddy start停止：/etc/init.d/caddy stop重启：/etc/init.d/caddy restart查看状态：/etc/init.d/caddy status查看 Caddy 启动日志： tail -f /tmp/caddy.logCaddy 配置文件位置：/usr/local/caddy/CaddyfileFileBrowser 数据库位置：/usr/local/caddy/filemanager.dbCaddy 自动申请 SSL 证书位置：/.caddy/acme/acme-v01.api.letsencrypt.org/sites/xxx.xxx(域名)/ 升级FileBrowser因为 FileBrowser 是 Caddy 的扩展，是融合成一个文件的，升级 FileBrowser=升级Caddy（加扩展），所以只需要重新执行下面的命令覆盖安装 Caddy 即可（只会覆盖 Caddy自身，不影响配置文件），覆盖安装后启动 Caddy 即可（ /etc/init.d/caddy start ）。1234wget -N --no-check-certificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager# 如果上面这个脚本无法下载，尝试使用备用下载：wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh install http.filemanager 卸载只需要把安装命令 install 改成 uninstall 就是卸载了，因为扩展是集成于Caddy中的，所以无法单独卸载某个扩展。1234wget -N --no-check-certificate https://softs.loan/Bash/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall# 如果上面这个脚本无法下载，尝试使用备用下载：wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall 生成博客那么，进行修改以后要对博客进行 hexo g 操作怎么实现呢？ 我就随便写了一个脚本，把它扔到 screen 里运行，令他每五分钟进行一次 hexso g，代码如下： 1234567#!/usr/bin/env bashhexo gsleep 300bash hexog.sh 把文件命名为 hexog.sh 然后丢到 网站主目录 下，开启 screen ，潇洒的 bash hexo.sh 他就会每五分钟为你生成博客。 其实还有其他不一样的方法，例如使用crontab，就不一一提及了 就这样水了一篇]]></content>
      <tags>
        <tag>建站</tag>
        <tag>hexo</tag>
        <tag>caddy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[安装hexo博客及其优化记录]]></title>
    <url>%2F2018%2F07%2F18%2F%E5%AE%89%E8%A3%85hexo%E5%8D%9A%E5%AE%A2%E5%8F%8A%E5%85%B6%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[安装 lnmp 环境使用lnmp.org的lnmp安装一键包，按程序安装好即可，并顺手创建一个虚拟主机，不需要重写，不需要数据库。 本文采用 lvcshu.com 为示例域名 安装 HEXO按照官网说明的方法一步步安装 安装 node.jscurl:1curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash 或 wget:1wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash 然后重启终端或者ssh重新连接1nvm install stable 安装 hexo-cil1npm install -g hexo-cli 随后就会很快安装完成！ 部署博客 安装Hexo后，运行以下命令以初始化目标中的Hexo 。 此处的 folder 就是我们博客的主目录，即 lnmp 虚拟主机的目录，进入目录以后执行 123hexo init .npm installhexo g 此时我们博客的静态页面已经成功生成了，但是访问页面是没有办法看到的，接着下一步 调整 nginx 配置文件打开 nginx 相应站点 的配置文件，找到 1root /home/wwwroot/lvcshu.com; 改为1root /home/wwwroot/blog.lvcshu.com/public; 记住：有两个地方要改，对应http与https 推荐：可以将 http 通过301跳转，跳转到 https 1lnmp nginx restart 看看效果吧！ 更换主题网络上有很多开源的，十分漂亮的 hexo 主题而默认主题是真的丑我想不使用默认主题，找到了一个极简但是十分美观的主题——“NexT” 安装 NexT 主题进入博客主目录 1git clone https://github.com/theme-next/hexo-theme-next themes/next 然后前往 站点配置文件(博客主目录下 ‘_config.yml’) 将 theme 字段改为 next ，然后执行 hexo clean &amp;&amp; hexo g ,打开网站即可看到效果。 Next主题优化以下内容来自 Hexo+Next主题优化 建议前往围观及点赞！ 设置主题风格打开 themes/next/_config.yml 文件，搜索 scheme 关键字，将你需用启用的 scheme 前面注释 # 去除即可。 123456789# ---------------------------------------------------------------# Scheme Settings# ---------------------------------------------------------------# Schemes#scheme: Muse # 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白#scheme: Mist # Muse 的紧凑版本，整洁有序的单栏外观scheme: Pisces # 双栏 Scheme，小家碧玉似的清新#scheme: Gemini # 类似 Pisces 设置菜单项的显示文本和图标NexT 使用的是 Font Awesome 提供的图标， Font Awesome 提供了 600+ 的图标，可以满足绝大的多数的场景，同时无须担心在 Retina 屏幕下图标模糊的问题。 设置菜单项的显示中文文本：打开 themes/next/languages/zh-Hans.yml 文件,搜索 menu 关键字，修改对应中文或者新增。123456789101112menu: home: 首页 archives: 归档 categories: 分类 tags: 标签 about: 关于 search: 搜索 schedule: 日程表 sitemap: 站点地图 commonweal: 公益404 # 新增menu catalogue: 目录 设定菜单项的文件目录和对应图标（新版两项合并）打开 themes/next/_config.yml 文件，搜索 menu_icons 关键字，修改对应图标名称或者新增对应 menu 的图标。 123456789101112131415161718192021222324252627# ---------------------------------------------------------------# Menu Settings# ---------------------------------------------------------------# When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash from link value (/archives -&gt; archives).# Usage: `Key: /link/ || icon`# Key is the name of menu item. If translate for this menu will find in languages - this translate will be loaded; if not - Key name will be used. Key is case-senstive.# Value before `||` delimeter is the target link.# Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, question icon will be loaded.menu: home: / || home archives: /archives/ || history categories: /categories/ || list tags: /tags/ || tags tools: /categories/工具资源/ || briefcase about: /about/ || user #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat# Enable/Disable menu icons.# Icon Mapping:# Map a menu item to a specific FontAwesome icon name.# Key is the name of menu item and value is the name of FontAwesome icon. Key is case-senstive.# When an question mask icon presenting up means that the item has no mapping icon.menu_icons: enable: true 除了 home， archives , /后面都需要手动创建这个页面 创建菜单项对应文件目录以分类为例，在终端窗口下，定位到 Hexo 站点目录下。使用 hexo new page 新建一个页面，命名为 categories ：12$ cd your-hexo-site$ hexo new page categories 编辑刚新建的页面,设置分类123456---title: 分类date: 2014-12-22 12:39:04categories: Testing #分类名type: &quot;categories&quot;--- 头像设置添加头像打开 themes/next/_config.yml 文件，搜索 Sidebar Avatar 关键字，去掉 avatar 前面的 #：1234# Sidebar Avatar# in theme directory(source/images): /images/avatar.jpg# in site directory(source/uploads): /uploads/avatar.jpgavatar: http://example.com/avatar.png 或者使用本地图片,把图片放入 themes/next/source/images 下,修改 avatar： avatar: /images/avatar.gif 设置头像边框为圆形框打开位于 themes/next/source/css/_common/components/sidebar/sidebar-author.syl 文件,修改如下:123456789101112.site-author-image &#123; display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; // 修改头像边框 border-radius: 50%; -webkit-border-radius: 50%; -moz-border-radius: 50%;&#125; 特效：鼠标放置头像上旋转123456789101112131415161718192021.site-author-image &#123; display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; // 修改头像边框 border-radius: 50%; -webkit-border-radius: 50%; -moz-border-radius: 50%; // 设置旋转 transition: 1.4s all;&#125;// 可旋转的圆形头像,`hover`动作.site-author-image:hover &#123; -webkit-transform: rotate(360deg); -moz-transform: rotate(360deg); -ms-transform: rotate(360deg); -transform: rotate(360deg);&#125; 浏览页面的时候显示当前浏览进度打开 themes/next/_config.yml ,搜索关键字 scrollpercent ,把 false 改为 true。 把top按钮放在侧边栏如果想把 top 按钮放在侧边栏,打开 themes/next/_config.yml ,搜索关键字 b2t ,把 false 改为 true。12345# Back to top in sidebar b2t: true# Scroll percent label in b2t button scrollpercent: true 侧边栏设置设置侧边栏社交链接打开 themes/next/_config.yml 文件,搜索关键字 social ,然后添加社交站点名称与地址即可。123456789101112131415# ---------------------------------------------------------------# Sidebar Settings# ---------------------------------------------------------------# Social Links.# Usage: `Key: permalink || icon`# Key is the link label showing to end users.# Value before `||` delimeter is the target permalink.# Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.social: E-Mail: mailto:yourname@gmail.com || envelope Google: https://plus.google.com/yourname || google Twitter: https://twitter.com/yourname || twitter FB Page: https://www.facebook.com/yourname || facebook # 等等 设置侧边栏社交图标打开 themes/next/_config.yml 文件,搜索关键字 social_icons ，添加社交站点名称（注意大小写）图标，Font Awesome图标地。 RSS在你 Hexo 站点目录下：1npm install hexo-generator-feed --save 打开 Hexo 站点下的 _config.yml ,添加如下配置：12345678# feed# Dependencies: https://github.com/hexojs/hexo-generator-feedfeed: type: atom path: atom.xml limit: 20 hub: content: 友情链接打开 themes/next/_config.yml 文件,搜索关键字 Blog rolls：1234567# Blog rollslinks_title: 友情链接 #标题links_layout: block #布局，一行一个连接#links_layout: inlinelinks: #连接 baidu: http://example.com/ google: http://example.com/ 主页文章添加边框阴影效果打开 themes/next/source/css/_custom/custom.styl ,向里面加代码:12345678// 主页文章添加阴影效果.post &#123; margin-top: 0px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);&#125; 修改文章间分割线打开 themes/next/source/css/_common/components/post/post-eof.styl ,修改：12345678910.posts-expand &#123; .post-eof &#123; display: block; // margin: $post-eof-margin-top auto $post-eof-margin-bottom; width: 0%; //分割线长度 height: 0px; // 分割线高度 background: $grey-light; text-align: center; &#125;&#125; 代码块自定义样式123456789101112131415// Custom styles.code &#123; color: #ff7600; background: #fbf7f8; margin: 2px;&#125;// 边框的自定义样式.highlight, pre &#123; margin: 5px 0; padding: 5px; border-radius: 3px;&#125;.highlight, code, pre &#123; border: 1px solid #d6d6d6;&#125; 开启版权声明主题配置文件下,搜索关键字 post_copyright , enable 改为 true：12345# Declare license on postspost_copyright: enable: true license: CC BY-NC-SA 4.0 license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/ 自定义文章底部版权声明效果：1234作者：Dragonstyle链接：http://www.dragonstyle.win/2017/09/06/Android-Studio个人设置/來源：简书版权声明： 本博客所有文章除特别声明外，均采用 CC BY-NC-SA 4.0 许可协议。转载请注明出处！ 在目录 themes/next/layout/_macro/ 下添加 my-copyright.swig ,内容如下:123456789101112131415161718192021222324252627282930313233&#123;% if page.copyright %&#125;&lt;div class=&quot;my_post_copyright&quot;&gt; &lt;script src=&quot;//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js&quot;&gt;&lt;/script&gt; &lt;!-- JS库 sweetalert 可修改路径 --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css&quot;&gt; &lt;p&gt;&lt;span&gt;本文标题:&lt;/span&gt;&#123;&#123; page.title &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;文章作者:&lt;/span&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;发布时间:&lt;/span&gt;&#123;&#123; page.date.format(&quot;YYYY年MM月DD日 - HH:mm:ss&quot;) &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;最后更新:&lt;/span&gt;&#123;&#123; page.updated.format(&quot;YYYY年MM月DD日 - HH:mm:ss&quot;) &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;原始链接:&lt;/span&gt;&lt;a href=&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot; title=&quot;&#123;&#123; page.title &#125;&#125;&quot;&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt; &lt;span class=&quot;copy-path&quot; title=&quot;点击复制文章链接&quot;&gt;&lt;i class=&quot;fa fa-clipboard&quot; data-clipboard-text=&quot;&#123;&#123; page.permalink &#125;&#125;&quot; aria-label=&quot;复制成功！&quot;&gt;&lt;/i&gt;&lt;/span&gt; &lt;/p&gt; &lt;p&gt;&lt;span&gt;许可协议:&lt;/span&gt;&lt;i class=&quot;fa fa-creative-commons&quot;&gt;&lt;/i&gt; &lt;a rel=&quot;license&quot; href=&quot;https://creativecommons.org/licenses/by-nc-nd/4.0/&quot; target=&quot;_blank&quot; title=&quot;Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)&quot;&gt;署名-非商业性使用-禁止演绎 4.0 国际&lt;/a&gt; 转载请保留原文链接及作者。&lt;/p&gt;&lt;/div&gt;&lt;script&gt; var clipboard = new Clipboard(&apos;.fa-clipboard&apos;); clipboard.on(&apos;success&apos;, $(function()&#123; $(&quot;.fa-clipboard&quot;).click(function()&#123; swal(&#123; title: &quot;&quot;, text: &apos;复制成功&apos;, html: false, timer: 500, showConfirmButton: false &#125;); &#125;); &#125;));&lt;/script&gt;&#123;% endif %&#125; 在目录 themes/next/source/css/_common/components/post/ 下添加 my-post-copyright.styl,内容如下:123456789101112131415161718192021222324252627282930313233343536373839404142434445.my_post_copyright &#123; width: 85%; max-width: 45em; margin: 2.8em auto 0; padding: 0.5em 1.0em; border: 1px solid #d3d3d3; font-size: 0.93rem; line-height: 1.6em; word-break: break-all; background: rgba(255,255,255,0.4);&#125;.my_post_copyright p&#123;margin:0;&#125;.my_post_copyright span &#123; display: inline-block; width: 5.2em; color: #333333; // title color font-weight: bold;&#125;.my_post_copyright .raw &#123; margin-left: 1em; width: 5em;&#125;.my_post_copyright a &#123; color: #808080; border-bottom:0;&#125;.my_post_copyright a:hover &#123; color: #0593d3; // link color text-decoration: underline;&#125;.my_post_copyright:hover .fa-clipboard &#123; color: #000;&#125;.my_post_copyright .post-url:hover &#123; font-weight: normal;&#125;.my_post_copyright .copy-path &#123; margin-left: 1em; width: 1em; +mobile()&#123;display:none;&#125;&#125;.my_post_copyright .copy-path:hover &#123; color: #808080; cursor: pointer;&#125; 修改 themes/next/layout/_macro/post.swig ,在代码如下：12345&#123;% if theme.wechat_subscriber.enabled and not is_index %&#125; &lt;div&gt; &#123;% include &apos;wechat-subscriber.swig&apos; %&#125; &lt;/div&gt; &#123;% endif %&#125; 之前添加增加如下代码：12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include &apos;my-copyright.swig&apos; %&#125; &#123;% endif %&#125;&lt;/div&gt; 修改 themes/next/source/css/_common/components/post/post.styl 文件，在最后一行增加代码：1@import &quot;my-post-copyright&quot; 设置新建文章自动开启 copyright,即新建文章自动显示自定义的版权声明,设置 your site/scaffolds/post.md文件 12345678---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;tags:type: &quot;categories&quot;categories:copyright: true #新增,开启--- 修改文章底部的那个带#号的标签打开 themes/next/layout/_macro/post.swig 文件,搜索 rel=&quot;tag&quot;&gt;# ,将 # 换成 &lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;12345&lt;div class=&quot;post-tags&quot;&gt; &#123;% for tag in post.tags %&#125; &lt;a href=&quot;&#123;&#123; url_for(tag.path) &#125;&#125;&quot; rel=&quot;tag&quot;&gt;&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; &#123;&#123; tag.name &#125;&#125;&lt;/a&gt; &#123;% endfor %&#125;&lt;/div&gt; 本地搜索在你站点的根目录下 1npm install hexo-generator-searchdb --save 打开 Hexo 站点的 _config.yml,添加配置 12345search: path: search.xml field: post format: html limit: 10000 打开 themes/next/_config.yml ,搜索关键字 local_search ,设置为 true： 123456789# Local search# Dependencies: https://github.com/flashlab/hexo-generator-searchlocal_search: enable: true # if auto, trigger search by changing input # if manual, trigger search by pressing enter key or search button trigger: auto # show top n results per article, show all results by setting to -1 top_n_per_article: 1]]></content>
      <tags>
        <tag>建站</tag>
        <tag>hexo</tag>
        <tag>博客</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[还不给你的网站加上https？]]></title>
    <url>%2F2018%2F07%2F18%2F%E8%BF%98%E4%B8%8D%E7%BB%99%E4%BD%A0%E7%9A%84%E7%BD%91%E7%AB%99%E5%8A%A0%E4%B8%8Ahttps%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[什么是https？现在，请看到你的浏览器的网址栏，你会看到会有一个绿色的锁或者类似的安全标志，这说明我的博客加上了https保障数据传送的安全性~ 那么，什么是https呢？ HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。来自百度百科 简单的来说https就是保障了这个网站的呈现给你的内容没有被擅改 一个小故事但是，https并不是绝对安全的，我在知乎上看到了这样一个故事：(斜体为笔者注释) 从前山上有座庙，庙里有个和尚……，别胡闹了，老和尚来了。 小和尚问老和尚：ssl为什么会让http安全？ 老和尚答道：譬如你我都有一个同样的密码，我发信给你时用这个密码加密，你收到我发的信，用这个密码解密，就能知道我信的内容，其他的闲杂人等，就算偷偷拿到了信，由于不知道这个密码，也只能望信兴叹，这个密码就叫做对称密码。ssl使用对称密码对http内容进行加解密，所以让http安全了，常用的加解密算法主要有3DES和AES等。 小和尚摸摸脑袋问老和尚：师傅，如果我们两人选择“和尚”作为密码，再创造一个和尚算法，我们俩之间的通信不就高枕无忧了？ 老和尚当头给了小和尚一戒尺：那我要给山下的小花写情书，还得用“和尚”这个密码不成？想了想又给了小和尚一戒尺：虽然我们是和尚，不是码农，也不能自己造轮子，当初一堆牛人码农造出了Wifi的安全算法WEP，后来发现是一绣花枕头，在安全界传为笑谈；况且小花只知道3DES和AES，哪知道和尚算法？ 小和尚问到：那师傅何解？ 老和尚：我和小花只要知道每封信的密码，就可以读到对方加密的信件，关键是我们互相之间怎么知道这个对称密码。你说，我要是将密码写封信给她，信被别人偷了，那大家不都知道我们的密码了，也就能够读懂我们情书了。不过还是有解的，这里我用到了江湖中秘传的非对称密码。我现在手头有两个密码，一个叫“公钥”，一个叫“私钥”，公钥发布到了江湖上，好多人都知道，私钥嘛，江湖上只有我一个人知道；这两个密钥有数学相关性，就是说用公钥加密的信件，可以用私钥解开，但是用公钥却解不开。公钥小花是知道的，她每次给我写信，都要我的公钥加密她的对称密码，单独写一张密码纸，然后用她的对称密码加密她的信件，这样我用我的私钥可以解出这个对称密码，再用这个对称密码来解密她的信件。 这种加密方法即自己生成自签证书，这种做法是不完全安全的，具体表现为Chrome地址栏划掉的红色https 老和尚顿了顿：可惜她用的对称密码老是“和尚为什么写情书”这一类，所以我每次解开密码纸时总是怅然若失，其实我钟意的对称密码是诸如“风花”“雪月”什么的，最头痛的是，我还不得不用“和尚为什么写情书”这个密码来加密我给小花回的情书，人世间最痛苦的事莫过于如此。可我哪里知道，其实有人比我更痛苦。山下的张屠夫，暗恋小花很多年，看着我们鸿雁传书，心中很不是滋味，主动毛遂自荐代替香客给我们送信。在他第一次给小花送信时，就给了小花他自己的公钥，谎称是我公钥刚刚更新了，小花信以为真，之后的信件对称密码都用张屠夫的这个公钥加密了，张屠夫拿到回信后，用他自己的私钥解开了小花的对称密码，然后用这个对称密码，不仅能够看到了小花信件的所有内容，还能使用这个密码伪造小花给我写信，同时还能用他的私钥加密给小花的信件。渐渐我发现信件变味了，尽管心生疑惑，但是没有确切的证据，一次我写信问小花第一次使用的对称密码，回信中“和尚为什么写情书”赫然在列，于是我的疑惑稍稍减轻。直到有一次去拜会嵩山少林寺老方丈才顿悟，原来由于我的公钥没有火印，任何人都可以伪造一份公钥宣称是我的，这样这个人即能读到别人写给我的信，也能伪造别人给我写信，同样也能读到我的回信，也能伪造我给别人的回信，这种邪门武功江湖上称之“Man-in-the-middle attack”（即中间人攻击）。唯一的破解就是使用嵩山少林寺的火印（即由CA机构颁发的证书），这个火印可有讲究了，需要将我的公钥及个人在江湖地位提交给18罗汉委员会，他们会根据我的这些信息使用委员会私钥进行数字签名，签名的信息凸现在火印上，有火印的公钥真实性在江湖上无人质疑，要知道18罗汉可是无人敢得罪的。 小和尚问：那然后呢？ 老和尚：从嵩山少林寺回山上寺庙时，我将有火印的公钥亲自给小花送去，可是之后再也没有收到小花的来信。过了一年才知道，其实小花还是给我写过信的，当时信确实是用有火印的公钥加密，张屠夫拿到信后，由于不知道我的私钥，解不开小花的密码信，所以一怒之下将信件全部烧毁了。也由于张屠夫无法知道小花的对称密码而无法回信，小花发出几封信后石沉大海，也心生疑惑，到处打听我的近况。这下张屠夫急了，他使用我发布的公钥，仿照小花的语气，给我发来一封信。拿到信时我就觉得奇怪，信纸上怎么有一股猪油的味道，结尾竟然还关切的询问我的私钥。情知有诈，我思量无论如何要找到办法让我知道来的信是否真是小花所写。后来竟然让我想到了办法…. 老和尚摸着光头说：这头发可不是白掉的，我托香客给小花带话，我一切安好，希望她也拥有属于自己的一段幸福，不对，是一对非对称密钥。小花委托小镇美女协会给小花公钥打上火印后，托香客给我送来，这样小花在每次给我写信时，都会在密码纸上贴上一朵小牡丹，牡丹上写上用她自己的私钥加密过的给我的留言，这样我收到自称是小花的信后，我会先抽出密码纸，取下小牡丹，使用小花的公钥解密这段留言，如果解不出来，我会直接将整封信连同密码纸一起扔掉，因为这封信一定不是小花写的，如果能够解出来，这封信才能确信来之于小花，我才仔细的解码阅读。 小和尚：难怪听说张屠夫是被活活气死的。您这情书整的，我头都大了，我长大后，有想法直接扯着嗓子对山下喊，也省的这么些麻烦。不过我倒是明白了楼上的话，ssl 握手阶段，就是要解决什么看火印，读牡丹，解密码纸，确实够麻烦的，所以性能瓶颈在这里，一旦双方都知道了对称密码，之后就是行云流水的解码读信阶段了，相对轻松很多。 编辑于 2014-04-28 著作权归作者所有 来源:【HTTPS 要比 HTTP 多用多少服务器资源？】牟旭东的回答 但是 并不是所有的CA机构所颁发的证书都是值得信任的，例如： 违反多项凭证机构要求，Chrome 全面取消对中国沃通的 SSL 证书信任 2016 年 9 月 Mozilla 揭发中国凭证机构 WoSign（沃通）伪造证书发行日期、隐瞒收购同行等问题，宣布暂停信任该机构发出的证书，苹果、Google 也跟随。近日 Google 宣布，旗下的 Chrome 浏览器在 9 月发布新版本后，将对 WoSign 及其收购的 StartCom 签发所有证书，不论新旧全部取消信任，建议正在使用的网站考虑更换这些数位证书。]]></content>
      <tags>
        <tag>https</tag>
        <tag>安全</tag>
        <tag>建站</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cloudreve体验报告]]></title>
    <url>%2F2018%2F07%2F18%2Fcloudreve%E4%BD%93%E9%AA%8C%E6%8A%A5%E5%91%8A%2F</url>
    <content type="text"><![CDATA[自从360云盘把业务收缩回企业用户之时，笔者就在不断的寻觅适合个人用户使用的私有云盘，但是纵观网络的各种各样的云盘，不是过于简单，就是部署过于复杂，还有就是会出现各种各样奇奇怪怪的问题（比如nextcloud）， 所以在不断的尝试中，终于发现了一个比较符合使用习惯的云盘程序 —&gt; cloudreve 助您以最低的成本快速搭建公私兼备的网盘系统 安装 由于官网已经有了比较详细的安装教程，在此不再赘述，无非是：安装lnmp环境、创建虚拟主机、获取程序、编辑数据库连接信息、把 fileinfo 的 php 扩展加载进去、修改 nginx 设置。 使用 进入页迎面而来是一个漂亮的首页，点击登录使用默认账户登录，经过一番体验，将优缺点一一总结如下 优点 多用户支持（可以和好基友家里人互不干扰的使用一套云盘） 完善的分享功能（提供公开分享与私密分享，界面简洁） 一键提取文件外链（wget 神器） 自定义文件上传策略（保障服务器安全） 支持与 aria2 离线下载对接 安装简便 webdav 支持……… 缺点 不支持扫描本地文件（文件上传只能通过网页端，大概是要用数据库管理） 总评 cloudreve 已经是一款相当成熟的云盘程序，是继 owncloud、nextcloud以后的私有云盘的不二选择]]></content>
      <tags>
        <tag>cloudreve</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[配置ufw防火墙，守护你的Ubuntu]]></title>
    <url>%2F2018%2F07%2F18%2F%E9%85%8D%E7%BD%AEufw%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%8C%E5%AE%88%E6%8A%A4%E4%BD%A0%E7%9A%84Ubuntu%2F</url>
    <content type="text"><![CDATA[起因 很久以来许许多多人催促着我赶快配置好防火墙规则以保护vps，但是。。。配置繁琐的iptables使我望而却步（其实就是懒 直到我发现了ufw这个神器 UFW 全称为 UncomplicatedFirewall[1]，是 Ubuntu 系统上默认的防火墙组件, 为了轻量化配置 iptables 而开发的一款工具。UFW 提供一个非常友好的界面用于创建基于IPV4，IPV6的防火墙规则。 废话不多说，上教程 环境Ubuntu 16.04 安装1apt install ufw 配置首先先打开ssh端口1ufw allow ssh 如果你的ssh端口不是默认的22，就1ufw allow 你的ssh端口 打开53端口，使dns功能不受影响12ufw allow 53/tcpufw allow 53/udp 可选：打开80，443端口12ufw allow http/tcpufw allow https/tcp 然后1ufw default deny 阻断除上述规则外的外部连接（本机外发流量无影响）1ufw enable 启动防火墙，done！ 操作指令启动防火墙 ufw enable关闭防火墙 ufw disable更新配置 ufw reload查看防火墙状态 ufw status]]></content>
      <tags>
        <tag>ufw</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[慢慢的，就没有了，就像从未存在过]]></title>
    <url>%2F2018%2F06%2F18%2F%E6%85%A2%E6%85%A2%E7%9A%84%EF%BC%8C%E5%B0%B1%E6%B2%A1%E6%9C%89%E4%BA%86%EF%BC%8C%E5%B0%B1%E5%83%8F%E4%BB%8E%E6%9C%AA%E5%AD%98%E5%9C%A8%E8%BF%87%2F</url>
    <content type="text"><![CDATA[作者小海，原文已被和谐 几年以前，我曾经嘲笑过某科技界大佬。当时他说：也许90后、95后会慢慢不知道谷歌是什么网站。那一年，这对于我来说简直就是世界上最好笑的笑话。谷歌，全世界最卓越的互联网公司，活在互联网的一代中国人，会不知道他们的网站？ 今天，我收回这句嘲笑。因为这件不可能的事，它慢慢变成了现实。 没有人再关注什么谷歌不谷歌。对他们来说，百度也蛮好用的，反正他们几乎没用过谷歌。没有谷歌又怎样？大家还是开心的刷微博，看微信，听歌，看娱乐节目。对于从来就不知道谷歌的人来说，少了谷歌又有什么影响？ 慢慢的，就没有了，就像从未存在过 多年前，我们也是可以登陆Facebook的。其实这个网站和校内一样，也挺蠢的。可在上面你能看到老外们的生活，可以轻易的跟一万公里以外的人互相拜访，可以看到很多根本不会开到校内上的主页。你用汉语回复，下面给你聊起来的可能是香港仔，可能是台湾人。你用英语回复，说不定有比你英语用的更蹩脚的寂寞的北欧人来跟你搭讪。你感觉地球真的变成了地球村，你还没拉门走出去，别人就推门走了进来。 然后，它就没有了。起初，它的失踪激起了很大的声音，后来，声音就消失了。 多年前，我们也是可以登陆Twitter的。其实这个网站和微博一样，也不过是些信息流，刷上一整天，也不见得有什么用处。但至少，你可以以最快速度获取你想知道的任何新事，你会真正了解什么事情在全世界是流行的，而不是经过各种截图、翻译、转发，甚至曲解、断章取义、黑白颠倒的东西。你知道的是真相，赤裸裸的，也许有点太短的真相。但至少中间不会有无数人的加工与再加工，偏激、片面，就在这个过程中产生了，不管后来者有意还是无意。 然后，它就没有了。首先是它的本体没有了，然后它的模仿者也没有了，模仿者的模仿者也没有了。只剩一个模仿者的模仿者的模仿者，现在你每天能在上面看到无数广告。 多年前，我们也是可以登陆YouTube的。对于有的人来说，这个网站就是个大型优酷，当年有人信誓旦旦的说，没有YouTube，我们中国人会很快让优酷超过YouTube。可这么多年过去了，视频还是那么卡，内容还是那么垃圾，原创还是那么容易被盗窃，视频丰富度还是那么的可怜。在YouTube上，你能看到全世界最棒的手艺人，最逗乐的笑话，最天马行空的创意，最激荡人心的音乐，最美好的完美瞬间，可在优酷上，你想看一分钟视频，请先看半分钟广告。 哦，对了。Instagram，有些人可能感觉它和QQ空间也差不多。可我在上面关注了六百多个摄影师，它们都是顶好顶好的影像记录者，每天看他们的作品，我感觉到很幸福，那种即使没有到那里去，也身临其境的幸福。我还在上面认识了一个日本的爱自拍的帅小伙，一个爱喝酒的韩国大叔，一个十年前到过中国今天会在每张我发的紫禁城照片下点赞的美国大爷，一个美丽无比的俄罗斯妹子，我和他们基本上都难以交流，语言是很大的障碍，但几个简单的单词，心意也就到了，这种感觉，有时候比多年老友相聚还兴奋。因为这是人类不同族群自由交流互相沟通的过程，这种过程很神奇，真的很神奇。 可现在，它没有了，它之所以没有就因为在某个特定的时间你在搜索特定的词汇时，会搜出来特定的照片。虽然这么搜的人并不多，虽然看到的人也不会大惊小怪，也不会觉得天黑了，天亮了，天要塌了，天要变了。可它就是没了，Instagram，就这么没了。谷歌也是这么没的，Twitter也是这么没的，Facebook也是这么没的。不知道是什么人，在什么场合，说了什么话，下了什么决定。就要有超过十亿人像陷于哥谭市的孤岛里一样，看着一座又一座桥梁被炸掉，又被炸掉，又被炸掉，然后，就什么都没了。 我时常觉得悲哀，真的好悲哀，一个我根本不认识也不知道是谁的人，也许是一个群体，在不断抢走我身边的东西，而我却无能为力。我抱怨一声，他听不到，任何人都听不到。我怒吼一句，身边的大多数人却像看疯子一样的看着我。我哀嚎一声，这声音被阻碍在黑黑的幕墙以里。我发出尖锐的嘶吼，这声音传不了多远，就和我那被抢走的东西一样，消失了，不见了，就像从来没存在过一样。 对于本来就没存在过的东西，有谁又会觉得在意呢？那些本来拥有又被掠夺的人的哀愁，后来的人又怎么懂呢？我曾经是拥有一切的，我曾经是拥有世界的，我站在这片土地上，呼吸的是自由的空气，饮下的是自由的琼浆玉液。就在长的无法计数的时间里，我自由生命的一部分又一部分就这么被杀死了，突然就杀死了。可我还始终觉得，它们还奄奄一息的活着，就像它们是慢慢的死去的一样。 可它们终归是死了，而且随着它们的死，愈来愈多的事情慢慢的发生了，很慢很慢，几乎不被人察觉，可还是发生了。 没有谷歌，我可以用百度呀。可某些结果被越挪越后，越挪越后，最后就不见了。就像本来就不该搜出这个结果一样。 没有Facebook，我可以用校内呀。可你想发只有在Facebook上能发的文章，很快在校内上就失踪了。接着，校内变成了人人，话题变成了人人都关心的话题。大家都在抢着看星座、明星、八卦、娱乐。没有人会关心什么消失了，反正它们本来也没多少存在感。 没有YouTube，我可以用优酷呀。可你却经常只能在优酷上看到抄袭别人的作品，而且还不署名，而且还洋洋得意，而且还自我陶醉，就好像那个idea本来属于他自己一样。你看了还要惊呼，他是如此的有创意！好一个抄袭的创意，可你却不知道，因为你不知道这个世界上有个网站叫YouTube。 没有Twitter，我还可以用微博呀。可你想知道最近发生了什么，你搜的越勤快，越能看到越明显的??“根据相关法律法规，相关搜索结果不予显示??”。时间长了，你想，反正知道了也没什么用，不如不看了。 慢慢的，一扇又一扇的门关上了。今天你打开世界上最大的博客网站，发现它没了。明天你一看，世界上最好的设计师分享网站没了，一开始是刷新的很慢很慢，后来它就没了。过两天再一看，平常每天都会读两篇文章的媒体网站没了，那里的文章缤纷多彩，最后都变成了该页无法显示几个字。再过几个月，大学的网站不让上了，摄影师的网站不让上了，就连百度日本这种自家网站，也没了。 接着，漫画看不了了，接着，动画看不成了。接着，美剧英剧失踪了。下载美剧英剧的网站又又又又又失踪了。尊重正版，保护权益，行吧，然后字幕网站也没了。 游戏没了，你习惯性登陆的游戏网站，发现下载栏正在整治中。论坛关了，天天都在看的论坛，突然接到相关部门的电话，因为??“报备问题??”不让办了。个人网站，私人博客，对不起，说没就没有，你在上面存了多少多年辛勤耕耘的东西都没用。 你关注的人，有一天你登陆微博，发现他怎么好久都没说话了，然后你搜索了一下，发现他的账号不存在了，而且你搜他的名字，他的名字未予显示。 一盏一盏的灯，灭了。四面八方的光源，消失了。我们生活的五光十色的世界，变成了一片黑色。 天黑了，那么睡觉吧，但愿长醉不复醒，卧槽泥马勒戈壁。 最后，我们变成了一群做梦的人，这个梦的名字，叫根据相关法律法规，相关搜索结果不予显示梦。]]></content>
      <tags>
        <tag>GFW</tag>
        <tag>Google</tag>
        <tag>思考</tag>
      </tags>
  </entry>
</search>
