<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>johnpoint&#39;s blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.lvcshu.com/"/>
  <updated>2019-05-07T15:19:25.248Z</updated>
  <id>https://blog.lvcshu.com/</id>
  
  <author>
    <name>johnpoint</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>安装Arch笔记</title>
    <link href="https://blog.lvcshu.com/2019/05/07/%E5%AE%89%E8%A3%85Arch%E7%AC%94%E8%AE%B0/"/>
    <id>https://blog.lvcshu.com/2019/05/07/安装Arch笔记/</id>
    <published>2019-05-07T14:53:00.000Z</published>
    <updated>2019-05-07T15:19:25.248Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Arch Linux（或 Arch /ˈɑːrtʃ/)）是一款基于 x86-64 架构的 Linux发行版。<br><a id="more"></a></p></blockquote><blockquote><p>Arch Linux 采用滚动发行模式来获取系统更新和软件的最新版本。系统安装映像只简单地包含系统主要组件。</p></blockquote><blockquote><p>Arch Linux 以社区 Wiki 的形式提供文档，称为 <a href="https://www.archlinux.org/" target="_blank" rel="noopener">ArchWiki</a>。该 Wiki 经常编有特定主题的最新信息，受到了 Linux 社区的广泛认可，内容也应用在 Arch Linux 以外的领域。</p></blockquote><p>这三句话贯穿了我安装 Arch 全过程，就记录一下 <del>免得我忘了</del> 吧。</p><h1 id="下载安装镜像"><a href="#下载安装镜像" class="headerlink" title="下载安装镜像"></a>下载安装镜像</h1><p>安装镜像很小，直接下载即可</p><p><a href="https://www.archlinux.org/download/" target="_blank" rel="noopener">&gt;&gt;传送门&lt;&lt;</a></p><h1 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h1><ul><li>VirtualBox Graphical User Interface Version 5.2.18_Ubuntu r123745<ul><li>Memory: 4096 MB</li><li>CPU: 4</li><li>BIOS 启动</li><li>Storage: 35 GB</li><li>Network: NAT</li></ul></li></ul><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="验证网络连接"><a href="#验证网络连接" class="headerlink" title="验证网络连接"></a>验证网络连接</h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ping</span> archlinux<span class="meta">.org</span></span><br></pre></td></tr></table></figure><h2 id="更新系统时间"><a href="#更新系统时间" class="headerlink" title="更新系统时间"></a>更新系统时间</h2><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">timedatectl </span><span class="built_in">set-ntp</span> <span class="string">true</span></span><br></pre></td></tr></table></figure><h3 id="设置分区"><a href="#设置分区" class="headerlink" title="设置分区"></a>设置分区</h3><h4 id="硬盘分区"><a href="#硬盘分区" class="headerlink" title="硬盘分区"></a>硬盘分区</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk <span class="regexp">/dev/</span>sda</span><br></pre></td></tr></table></figure><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入 <span class="built_in">n</span> 新建分区</span><br><span class="line">然后一路回车默认</span><br><span class="line">最后 w 改变写入硬盘</span><br></pre></td></tr></table></figure><h4 id="格式化分区"><a href="#格式化分区" class="headerlink" title="格式化分区"></a>格式化分区</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs<span class="selector-class">.ext4</span> /dev/sda1</span><br></pre></td></tr></table></figure><h2 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h2><h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><h4 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h4><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount <span class="string">/dev/sda1</span> <span class="string">/mnt</span></span><br></pre></td></tr></table></figure><h4 id="设置软件源"><a href="#设置软件源" class="headerlink" title="设置软件源"></a>设置软件源</h4><p>在 Wiki 的 <a href="https://wiki.archlinux.org/index.php/Mirrors_(简体中文" target="_blank" rel="noopener">镜像源</a>#中国)页面挑选适合的镜像。</p><p>我选择阿里的源</p><p>编辑源列表<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>pacman.d<span class="regexp">/mirrorlist</span></span><br></pre></td></tr></table></figure></p><p>添加<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Server = http:<span class="regexp">//mi</span>rrors.aliyun.com<span class="regexp">/archlinux/</span><span class="variable">$repo</span><span class="regexp">/os/</span><span class="variable">$arch</span></span><br></pre></td></tr></table></figure></p><h3 id="安装基础系统"><a href="#安装基础系统" class="headerlink" title="安装基础系统"></a>安装基础系统</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt <span class="keyword">base</span> <span class="keyword">base</span>-devel</span><br></pre></td></tr></table></figure><h3 id="设置新安装的系统"><a href="#设置新安装的系统" class="headerlink" title="设置新安装的系统"></a>设置新安装的系统</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U <span class="regexp">/mnt &gt;&gt; /m</span>nt<span class="regexp">/etc/</span>fstab</span><br></pre></td></tr></table></figure><p>切换到新系统<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot <span class="string">/mnt</span></span><br></pre></td></tr></table></figure></p><h4 id="安装必要的软件"><a href="#安装必要的软件" class="headerlink" title="安装必要的软件"></a>安装必要的软件</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pacman -S vim nano</span></span><br></pre></td></tr></table></figure><h4 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h4><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -sf <span class="meta-keyword">/usr/</span>share<span class="meta-keyword">/zoneinfo/</span>Asia/Shanghai <span class="meta-keyword">/etc/</span>localtime</span><br><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure><h4 id="设置本地化文本编码"><a href="#设置本地化文本编码" class="headerlink" title="设置本地化文本编码"></a>设置本地化文本编码</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano <span class="regexp">/etc/</span>locale.gen</span><br></pre></td></tr></table></figure><p>加入<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zh_CN.UTF<span class="number">-8</span> UTF<span class="number">-8</span></span><br></pre></td></tr></table></figure></p><p>执行<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">locale-gen</span></span><br></pre></td></tr></table></figure></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano <span class="regexp">/etc/</span>locale.conf</span><br></pre></td></tr></table></figure><p>加入<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">LANG</span>=en_US.UTF-<span class="number">8</span></span><br></pre></td></tr></table></figure></p><h4 id="设置-hostname-amp-amp-HOST"><a href="#设置-hostname-amp-amp-HOST" class="headerlink" title="设置 hostname &amp;&amp; HOST"></a>设置 hostname &amp;&amp; HOST</h4><p>编辑 <code>/etc/hostname</code></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano <span class="regexp">/etc/</span>hosts</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span>   <span class="selector-tag">localhost</span></span><br><span class="line"><span class="selector-pseudo">::1</span>         <span class="selector-tag">localhost</span></span><br><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-class">.1</span>   <span class="selector-tag">arch</span><span class="selector-class">.localdomain</span>  <span class="selector-tag">arch</span></span><br></pre></td></tr></table></figure><h4 id="账户设置"><a href="#账户设置" class="headerlink" title="账户设置"></a>账户设置</h4><h5 id="修改-root-密码"><a href="#修改-root-密码" class="headerlink" title="修改 root 密码"></a>修改 root 密码</h5><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">passwd</span></span><br></pre></td></tr></table></figure><h5 id="添加账户"><a href="#添加账户" class="headerlink" title="添加账户"></a>添加账户</h5><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">useradd -m johnpoint</span></span><br><span class="line"><span class="attribute">passwd johnpoint</span></span><br></pre></td></tr></table></figure><h4 id="设置开机引导"><a href="#设置开机引导" class="headerlink" title="设置开机引导"></a>设置开机引导</h4><h5 id="安装-Grub"><a href="#安装-Grub" class="headerlink" title="安装 Grub"></a>安装 Grub</h5><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pacman -S grub</span></span><br></pre></td></tr></table></figure><h5 id="部署-Grub"><a href="#部署-Grub" class="headerlink" title="部署 Grub"></a>部署 Grub</h5><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grub-install <span class="params">--target=i386-pc</span> <span class="string">/dev/sda</span></span><br><span class="line">grub-mkconfig -o <span class="string">/boot/grub/grub.cfg</span></span><br></pre></td></tr></table></figure><p>至此，arch 就安装完成了，图形界面什么的 <del>咕咕咕</del> 下次再说</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Arch Linux（或 Arch /ˈɑːrtʃ/)）是一款基于 x86-64 架构的 Linux发行版。&lt;br&gt;
    
    </summary>
    
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
      <category term="学习笔记" scheme="https://blog.lvcshu.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="Arch" scheme="https://blog.lvcshu.com/tags/Arch/"/>
    
  </entry>
  
  <entry>
    <title>博客支持 TLS 1.3</title>
    <link href="https://blog.lvcshu.com/2019/04/11/%E5%8D%9A%E5%AE%A2%E6%94%AF%E6%8C%81TLS-1.3/"/>
    <id>https://blog.lvcshu.com/2019/04/11/博客支持TLS-1.3/</id>
    <published>2019-04-11T01:36:00.000Z</published>
    <updated>2019-04-11T13:48:26.918Z</updated>
    
    <content type="html"><![CDATA[<p>博客终于在无数次的 想配置 TLS1.3 和 “啊好麻烦啊，不上了” 中一直没有上 TLS1.3<br><a id="more"></a></p><p>借着更新 <a href="https://github.com/johnpoint/DNMP-lvcshu" target="_blank" rel="noopener">DNMP-lvcshu</a> 项目中的 NGINX 模块，顺便把 TLS1.3 的支持给加上了，其实也没有做啥改变，就把 NGINX 的版本升级到了 <code>1.15.11</code> 就好了 <del>其实是我太菜</del></p><p>然后项目里 NGINX 的本来基于 UBUNTU 的镜像换成了 alpine 版本的镜像，体积： 45MB –&gt; 7MB，更加轻量化了呢。</p><p>最麻烦的还是修改配置文件，毕竟每一个网站都要手动加上 TLS1.3 的相关配置，看起来分发 NGINX 配置文件的小工具也要提上日程了呢（<del>四面杵鸽.jpg</del></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;博客终于在无数次的 想配置 TLS1.3 和 “啊好麻烦啊，不上了” 中一直没有上 TLS1.3&lt;br&gt;
    
    </summary>
    
    
      <category term="https" scheme="https://blog.lvcshu.com/tags/https/"/>
    
      <category term="TLS" scheme="https://blog.lvcshu.com/tags/TLS/"/>
    
      <category term="DNMP" scheme="https://blog.lvcshu.com/tags/DNMP/"/>
    
      <category term="nginx" scheme="https://blog.lvcshu.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>我们已经被微信捆住了</title>
    <link href="https://blog.lvcshu.com/2019/04/03/%E6%88%91%E4%BB%AC%E5%B7%B2%E7%BB%8F%E8%A2%AB%E5%BE%AE%E4%BF%A1%E6%8D%86%E4%BD%8F%E4%BA%86/"/>
    <id>https://blog.lvcshu.com/2019/04/03/我们已经被微信捆住了/</id>
    <published>2019-04-03T09:41:00.000Z</published>
    <updated>2019-04-03T11:22:11.195Z</updated>
    
    <content type="html"><![CDATA[<p>我们已经被微信捆住了<a id="more"></a></p><h1 id="先看看"><a href="#先看看" class="headerlink" title="先看看"></a>先看看</h1><p><a href="https://weixin.qq.com/" target="_blank" rel="noopener">微信，是一个生活方式</a></p><p><a href="https://blog.yitianshijie.net/2018/02/02/wechat-equals-gfw/" target="_blank" rel="noopener">微信= GFW – 一天世界</a></p><h1 id="先说好话"><a href="#先说好话" class="headerlink" title="先说好话"></a>先说好话</h1><p><del>不可否认的是腾讯的微信的产生的确是即时通信软件的一个巨大的进步</del> 不对啊…其实都知道微信的一些功能其实并不是自己原创的，但是还是得益于微信的诞生使得熟人社交走进了我们的视线，balabala懒得吹下去了</p><h1 id="各种群"><a href="#各种群" class="headerlink" title="各种群"></a>各种群</h1><p>就我的感觉而言，微信<strong>不是</strong>一个恰当的通知发放的平台，有几点原因：</p><ul><li>成员权限管理缺失</li><li>同时只能容纳一条群通知</li><li>消息各平台不能同步</li><li>消息无云端备份</li><li>消息排版几乎没有</li></ul><p>首先，群员权限管理严重残废导致微信群内是<strong>不能</strong>进行禁言的操作的。</p><p>而且，群友们显而易见的是一个比较容易忽略禁言令的群体。</p><p>从而，导致了明明群名挂着的 <strong>禁言</strong> 形同虚设，通知与刷屏齐飞，往往不能很方便的看到通知。</p><p>然后，微信的群公告是藏在微信群详情的菜单里面的，而展现在对话区域的内容与其他一般的聊天内容相比只是多出了 <code>@所有人</code> 这几个字，没有明显的<strong>区分度</strong>。</p><p>更别说微信自己引以为傲的不保存聊天记录所以不能做到云备份聊天数据了，<a href="http://www.sohu.com/a/287819049_162645" target="_blank" rel="noopener">保存没有保存腾讯自己心里应该有数</a>，就造成了微信的聊天记录其实是<strong>不可靠</strong>的。</p><h1 id="各种被要求关注的公众号"><a href="#各种被要求关注的公众号" class="headerlink" title="各种被要求关注的公众号"></a>各种被要求关注的公众号</h1><p>就以共青团员要关注的公众号来说，其实感觉已经比较过分了，从一开始的 <strong>广东共青团</strong> 到 <strong>广东青年之声</strong> 再到 <strong>广东学联</strong>，做个团员也太麻烦了吧，如果说关注一个公众号进行通知推送尚可理解，但是 <strong>强迫</strong> 关注三个公众号未免有点过分</p><h1 id="微信的封闭"><a href="#微信的封闭" class="headerlink" title="微信的封闭"></a>微信的封闭</h1><p>不可否认的是微信的生态是业内的领先水平，但是对于我这样的自由爱好者来说，微信的生态从另一种层面来说就是一种封闭的表现，从微信聊天到公众号的休闲阅读再到微信支付，体验的一致感是有了，但是流量一经微信的入口，就几乎没有任何出口再次让流量进入自由的互联网了，微信仿佛互联网上的孤岛，看似链接了互联网的丰富内容，其实你永远处于微信的牢笼里。</p><h1 id="微信真的成为了生活方式"><a href="#微信真的成为了生活方式" class="headerlink" title="微信真的成为了生活方式"></a>微信真的成为了生活方式</h1><p>最后的最后，我是真的没有想到，真的会有人<strong>发短信</strong>让我去<strong>看微信</strong>…</p><p><img src="https://cdn.lvcshu.info/img/20190403001.jpg" alt=""></p><p>微信像一条绳子，先把一部分人捆住了，然后再让那一部分人把另一部分人捆住。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我们已经被微信捆住了
    
    </summary>
    
    
      <category term="微信" scheme="https://blog.lvcshu.com/tags/%E5%BE%AE%E4%BF%A1/"/>
    
      <category term="封闭" scheme="https://blog.lvcshu.com/tags/%E5%B0%81%E9%97%AD/"/>
    
  </entry>
  
  <entry>
    <title>初探 Proxmox VE</title>
    <link href="https://blog.lvcshu.com/2019/03/17/%E5%88%9D%E6%8E%A2Proxmox-VE/"/>
    <id>https://blog.lvcshu.com/2019/03/17/初探Proxmox-VE/</id>
    <published>2019-03-17T03:36:00.000Z</published>
    <updated>2019-03-17T07:24:48.735Z</updated>
    
    <content type="html"><![CDATA[<p>一直好奇主机商们是怎么把一台独立服务器分成 VPS 来售卖的，这几天就去玩了 下 Proxmox VE<br><a id="more"></a><br><img src="https://cdn.lvcshu.info/img/20190317001.jpg" alt=""></p><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul><li>Ubuntu 18.04.2 桌面版</li><li>VirtualBox Graphical User Interface Version 5.2.18_Ubuntu r123745</li><li>Proxmox-ve_5.3-2</li></ul><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>由于我手头上实在是没有空余的机器，所以我向我的笔记本 <del>伸出了邪恶的手</del> ，新建了一个虚拟机，分配给它 4G 内存， 50G 硬盘 。安装时候直接在 <a href="https://www.proxmox.com/en/downloads" target="_blank" rel="noopener">官网-下载</a> 下载 <code>Proxmox VE 5.3 ISO Installer</code> iso 镜像，像平时安装系统一样安装上去，完全傻瓜式。</p><p>安装好以后就会提示你登录并给了你一个网页的地址，就像这样</p><p><img src="https://cdn.lvcshu.info/img/20190317002.png" alt=""></p><p>但是我们的是虚拟机所以需要在 <code>Settings-&gt;Network-&gt;Adapter 1-&gt;Advanced-&gt;Port Forwarding</code> 配置端口转发</p><p>然后在浏览器访问 <code>https://127.0.0.1:映射的端口</code> 就可以看见面板了。</p><p><img src="https://cdn.lvcshu.info/img/20190317003.png" alt=""></p><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>面板的右上角有 <code>[创建虚拟机]</code> <code>[创建 CT]</code> 的按钮，分别对应虚拟化技术 KVM 以及 OpenVZ（LXC？）</p><h2 id="镜像下载"><a href="#镜像下载" class="headerlink" title="镜像下载"></a>镜像下载</h2><h3 id="KVM"><a href="#KVM" class="headerlink" title="KVM"></a>KVM</h3><p>直接下载官方的安装镜像，并把镜像放置在  </p><p><code>/var/lib/vz/template/iso</code></p><h3 id="OpenVZ"><a href="#OpenVZ" class="headerlink" title="OpenVZ"></a>OpenVZ</h3><p>需要到 OpenVZ 官网的 <a href="https://wiki.openvz.org/Download/template/precreated" target="_blank" rel="noopener">下载页面</a> 下载</p><p>放置目录是</p><p><code>/var/lib/vz/template/cache</code></p><h2 id="网卡-amp-NAT"><a href="#网卡-amp-NAT" class="headerlink" title="网卡 &amp; NAT"></a>网卡 &amp; NAT</h2><p>由于我是虚拟机开虚拟机，并且没有公网ip，所以我们需要通过 NAT(<strong>N</strong>etwork <strong>A</strong>ddress <strong>T</strong>ranslation)来对流量转发，<del>不然就是单机游戏啦</del></p><h2 id="母鸡的配置"><a href="#母鸡的配置" class="headerlink" title="母鸡的配置"></a>母鸡的配置</h2><p>编辑文件 <code>/etc/network/interfaces</code> 添加</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">auto vmbr2</span><br><span class="line">iface vmbr4 inet static</span><br><span class="line">        address  <span class="number">10.97</span><span class="number">.0</span><span class="number">.254</span></span><br><span class="line">        netmask  <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span></span><br><span class="line">        bridge-ports none</span><br><span class="line">        bridge-stp off</span><br><span class="line">        bridge-fd <span class="number">0</span></span><br><span class="line">        post-up echo <span class="number">1</span> &gt; /<span class="keyword">proc</span>/sys/net/ipv4/ip_forward</span><br><span class="line"><span class="title">        post-up</span> iptables -t<span class="title"> nat</span> -A<span class="title"> POSTROUTING</span> -s '10.97.0.0/24' -o<span class="title"> vmbr0</span> -j<span class="title"> MASQUERADE</span></span><br><span class="line"><span class="title"></span> <span class="title">       post-down</span> iptables -t<span class="title"> nat</span> -D<span class="title"> POSTROUTING</span> -s '10.97.0.0/24' -o<span class="title"> vmbr0</span> -j<span class="title"> MASQUERADE</span></span><br><span class="line"><span class="title"></span> <span class="title">       post-up</span> iptables -t<span class="title"> nat</span> -A<span class="title"> PREROUTING</span> -i<span class="title"> vmbr0</span> -p<span class="title"> tcp</span> --dport 1024 -j<span class="title"> DNAT</span> --to 10.97.0.1:22</span><br><span class="line"><span class="title">        post-down</span> iptables -t<span class="title"> nat</span> -D<span class="title"> PREROUTING</span> -i<span class="title"> vmbr0</span> -p<span class="title"> tcp</span> --dport 1024 -j<span class="title"> DNAT</span> --to 10.97.0.1:22</span><br></pre></td></tr></table></figure><p>然后执行 <code>/etc/init.d/networking restart</code></p><p>就能添加一张网卡，这张网卡主要是用于接下来的小鸡的流量转发用的，他会把所有的流量转向母鸡可以连接外网的网卡。</p><h2 id="小鸡的配置"><a href="#小鸡的配置" class="headerlink" title="小鸡的配置"></a>小鸡的配置</h2><p><img src="https://cdn.lvcshu.info/img/20190317004.png" alt=""></p><p>按照上面的信息随机应变 (?) 就好，网管要填 <strong>母鸡的IP</strong></p><h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips:"></a>Tips:</h1><ul><li>这里的配置主要是开 CT 容器，KVM 的或许以后会更 <del>咕咕咕</del></li><li>centos 7 的 OpenVZ 镜像貌似有问题，密码是没有办法输对的</li></ul><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>开了三台服务器～</p><p><img src="https://cdn.lvcshu.info/img/20190317005.png" alt=""></p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul><li><a href="https://www.imfan.net/geek/20.html" target="_blank" rel="noopener">Proxmox VE三种方法配置NAT小鸡和IPv6地址</a></li><li><a href="http://www.zrblog.net/16527.html" target="_blank" rel="noopener">Proxmox VE安装和KVM开设教程</a></li><li><a href="https://teddysun.com/296.html" target="_blank" rel="noopener">OpenVZ安装指南</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一直好奇主机商们是怎么把一台独立服务器分成 VPS 来售卖的，这几天就去玩了 下 Proxmox VE&lt;br&gt;
    
    </summary>
    
    
      <category term="Proxmox VE" scheme="https://blog.lvcshu.com/tags/Proxmox-VE/"/>
    
  </entry>
  
  <entry>
    <title>office 365 online 太好用啦!</title>
    <link href="https://blog.lvcshu.com/2019/03/02/office-365-online-%E5%A4%AA%E5%A5%BD%E7%94%A8%E5%95%A6/"/>
    <id>https://blog.lvcshu.com/2019/03/02/office-365-online-太好用啦/</id>
    <published>2019-03-02T12:40:00.000Z</published>
    <updated>2019-03-02T12:57:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>自从把主力的系统从 windows 转向了 ubuntu 了以后，感觉 ubuntu 实在是比 windows 要方便许多 （除了进行文档处理的操作以外）<a id="more"></a>，所以我一直以来使用的是 Google 推出的在线文档处理网站，基础功能是有了，但是远远没有微软的 office 成熟。我也曾经尝试过开源的 <a href="https://www.libreoffice.org/get-help/install-howto/linux/" target="_blank" rel="noopener">libreoffice</a> 以及 金山公司推出的 <a href="https://www.wps.com/en-US/office/linux" target="_blank" rel="noopener">WPS office for linux</a>。但是他们都各有缺点。一是与 M$ office 不是完美的兼容，二是软件体积臃肿，多出来很多没有必要存在的功能（说的就是 WPS ）。</p><p>然后我才发现了 <a href="https://www.office.com/" target="_blank" rel="noopener">office 365 online</a> 神器一般的存在，因为他几乎不会占据电脑的本地资源，与 M$ office 完全兼容，功能齐全(跟电脑上的桌面版已经没有什么区别了！！)，文件是储存在 onedrive 上的，非常方便。 爽到了啊！！！</p><p><img src="https://cdn.lvcshu.info/img/20190301001.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;自从把主力的系统从 windows 转向了 ubuntu 了以后，感觉 ubuntu 实在是比 windows 要方便许多 （除了进行文档处理的操作以外）
    
    </summary>
    
    
      <category term="microsoft" scheme="https://blog.lvcshu.com/tags/microsoft/"/>
    
      <category term="office 365" scheme="https://blog.lvcshu.com/tags/office-365/"/>
    
  </entry>
  
  <entry>
    <title>Github commit添加verified标识</title>
    <link href="https://blog.lvcshu.com/2019/02/09/Github-commit%E6%B7%BB%E5%8A%A0verified%E6%A0%87%E8%AF%86/"/>
    <id>https://blog.lvcshu.com/2019/02/09/Github-commit添加verified标识/</id>
    <published>2019-02-09T11:07:00.000Z</published>
    <updated>2019-02-09T11:28:29.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>这是一篇笔记</p></blockquote><blockquote><p>内容：Github commit添加verified标识<br><a id="more"></a><br><img src="https://cdn.lvcshu.info/img/20190209002.png" alt="效果图"></p></blockquote><p>就是一直以来都 <del>懒得</del> 忙得没有将这个事情做好 <del>但是其实这个东西好像并没有什么用</del></p><h1 id="用户端"><a href="#用户端" class="headerlink" title="用户端"></a>用户端</h1><h2 id="生成-GPG-密钥对"><a href="#生成-GPG-密钥对" class="headerlink" title="生成 GPG 密钥对"></a>生成 GPG 密钥对</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg <span class="comment">--gen-key</span></span><br></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --<span class="keyword">list</span>-<span class="built_in">keys</span></span><br></pre></td></tr></table></figure><p>列出 GPG 密钥对<br><img src="https://cdn.lvcshu.info/img/20190209003.png" alt="列出 GPG 密钥对"></p><h2 id="导出-public-文件"><a href="#导出-public-文件" class="headerlink" title="导出 public 文件"></a>导出 public 文件</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gpg --armor --output public-<span class="built_in">key</span>.txt --export E081E7D64************<span class="number">29B7080083</span></span><br><span class="line">gpg --armor --output private-<span class="built_in">key</span>.txt --export-secret-keys</span><br></pre></td></tr></table></figure><h2 id="配置本地-Git"><a href="#配置本地-Git" class="headerlink" title="配置本地 Git"></a>配置本地 Git</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global user.signingkey E081E7D64***********<span class="number">*29B7080083</span></span><br><span class="line">git<span class="built_in"> config </span>--global commit.gpgsign <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1 id="Github-端"><a href="#Github-端" class="headerlink" title="Github 端"></a>Github 端</h1><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat <span class="keyword">public</span>-<span class="built_in">key</span>.txt</span><br></pre></td></tr></table></figure><p>将结果填入 <a href="https://github.com/settings/keys" target="_blank" rel="noopener">Personal settings-&gt;SSH and GPG keys</a></p><p>保存</p><p><img src="https://cdn.lvcshu.info/img/20190209004.png" alt="效果"></p><p>-EOF-</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;这是一篇笔记&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;内容：Github commit添加verified标识&lt;br&gt;
    
    </summary>
    
    
      <category term="Github" scheme="https://blog.lvcshu.com/tags/Github/"/>
    
      <category term="verified" scheme="https://blog.lvcshu.com/tags/verified/"/>
    
      <category term="笔记" scheme="https://blog.lvcshu.com/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>app推荐:notify &amp; fitness for mi band</title>
    <link href="https://blog.lvcshu.com/2019/01/22/app%E6%8E%A8%E8%8D%90:notify%20&amp;%20fitness%20for%20mi%20band/"/>
    <id>https://blog.lvcshu.com/2019/01/22/app推荐:notify &amp; fitness for mi band/</id>
    <published>2019-01-22T13:21:00.000Z</published>
    <updated>2019-01-22T13:42:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>话说用了那么久小米手环，其实感觉还是比较不错的，唯一美中不足的就是小米手环的附属应用 <code>小米运动(mi fit)</code> <a id="more"></a>实在是令人失望，不仅仅是因为广告，而且他本身的功能并不是很周全，比如睡觉似乎只能统计在晚上的睡觉时间，而不能统计午觉。</p><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>使用第三方 app </p><p><a href="https://play.google.com/store/apps/details?id=com.mc.miband1" target="_blank" rel="noopener">notify &amp; fitness for mi band</a></p><h2 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h2><ul><li>统计精度 比 小米运动 <strong>强</strong></li><li>可以全天统计睡眠</li><li>没有广告！！！</li><li>可以连接小米体重秤 与 小米运动 相比 <strong>毫不逊色</strong></li><li>专注 没有 <strong>乱七八糟</strong> 的社交功能</li><li><strong>更多</strong> 的自定义功能</li><li>可以连接 <code>Google fit</code></li><li><strong>无需</strong> 依赖 小米运动 </li></ul><h2 id="劣势"><a href="#劣势" class="headerlink" title="劣势"></a>劣势</h2><ul><li>专业功能需要专业版的授权 <strong>$3.14</strong> (反正我是果断购买了)</li><li>可定制选项 <strong>过多</strong> 所以可能容易使人 <strong>凌乱</strong> <del>可能是我比较蠢,哭</del></li></ul><h2 id="软件截图"><a href="#软件截图" class="headerlink" title="软件截图"></a>软件截图</h2><p><img src="https://cdn.lvcshu.info/img/20190122001.jpg" alt=""></p><p><img src="https://cdn.lvcshu.info/img/20190122002.jpg" alt=""></p><p><img src="https://cdn.lvcshu.info/img/20190122003.jpg" alt=""></p><blockquote><p>Google play: <a href="https://play.google.com/store/apps/details?id=com.mc.miband1" target="_blank" rel="noopener">notify &amp; fitness for mi band</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;话说用了那么久小米手环，其实感觉还是比较不错的，唯一美中不足的就是小米手环的附属应用 &lt;code&gt;小米运动(mi fit)&lt;/code&gt;
    
    </summary>
    
    
      <category term="小米手环" scheme="https://blog.lvcshu.com/tags/%E5%B0%8F%E7%B1%B3%E6%89%8B%E7%8E%AF/"/>
    
      <category term="app推荐" scheme="https://blog.lvcshu.com/tags/app%E6%8E%A8%E8%8D%90/"/>
    
      <category term="notify &amp; fitness for mi band" scheme="https://blog.lvcshu.com/tags/notify-fitness-for-mi-band/"/>
    
  </entry>
  
  <entry>
    <title>真-多点部署博客</title>
    <link href="https://blog.lvcshu.com/2019/01/14/%E7%9C%9F-%E5%A4%9A%E7%82%B9%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2/"/>
    <id>https://blog.lvcshu.com/2019/01/14/真-多点部署博客/</id>
    <published>2019-01-14T13:03:02.000Z</published>
    <updated>2019-03-09T05:45:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>emmmmm 众所周知由于中国的特殊情况使得中国的网络监管机制有别于外国，国内开展各项网络业务是需要经过备案的，而备案过程比较繁琐而且需要上传持证照，我是不太喜欢这个玩意儿的，所以我的博客也没备案。<br><a id="more"></a></p><p><img src="https://cdn.lvcshu.info/img/20190309001.jpg" alt="Photo by rawpixel on Unsplash"></p><h1 id="使用-CDN"><a href="#使用-CDN" class="headerlink" title="使用 CDN"></a>使用 CDN</h1><p>备案既有好处也有坏处，备案了以后国内的各种云服务是没有限制的，包括阿里云、腾讯云各种云的位于国机房的服务器都可以用来搭网站，还可以使用国内的 CDN 服务。但是我的博客没备案阿…所以之前一直是使用的 DO 美国服务器，备案是不需要了，但网络世界不会忽略物理中对光的速度限制，延迟<del>坏的很</del>大的很，所以就琢磨着用一下 CDN ( <strong>C</strong>ontent <strong>D</strong>elivery <strong>N</strong>etwork 内容分发网络 ) 诶作为穷人的我当然是选择去 <del>白嫖</del>使用免费的 CDN 啦，我使用的是 <em>CloudFlare</em> 这个服务商，这个服务商真的是一言难尽，的确他的数据中心遍布世界，<strong>除了中国</strong> 所以就造成了 CloudFlare 的服务在中国显得不那么给力，后来我还是放弃了使用 CloudFlare 作为 CDN 的方案 <del>才不是因为 CloudFlare 要氪金才能使用自己证书这个原因</del> 反正后来就没用 CDN 了</p><p>也不是没有想过用其他家的 CDN 。就是要么贵要么比CloudFlare效果差。</p><h1 id="更换-DNS"><a href="#更换-DNS" class="headerlink" title="更换 DNS"></a>更换 DNS</h1><p>然后，这几天比较有空 <del>才不是我考试前摸鱼</del> 就想着换一下 DNS 解析提供商，之前是一直用的 CloudFlare 的 DNS 后来就算没使用 CDN 功能还继续在用，但是好像 CloudFlare 的 DNS <strong>在国内有些节点不知道被谁糟蹋了</strong>（狗头保命）使用体验不佳，所以就把 DNS 迁移到了 NS1。</p><h2 id="说说-NS1"><a href="#说说-NS1" class="headerlink" title="说说 NS1"></a>说说 NS1</h2><blockquote><p>NS1.com是国外一家提供专业的DNS域名解析服务商，除了付费的DNS域名解析外，还提供了免费的DNS域名解析套餐，免费额度为500k Queries 、50 Records 、1 Built-in Monitor 、1 Filter Chain 和NS1 API，基本上可以满足日常建站的需要了。<br>节选自 <a href="https://wzfou.com/ns1-dns/" target="_blank" rel="noopener">NS1 DNS域名解析使用-Master/Slave主从DNS和世界各地分区解析</a></p></blockquote><p>就是这样，看起来很专业，事实上也是很专业的。</p><p><img src="https://cdn.lvcshu.info/img/20190114002.png" alt=""></p><p>但是就是有一个比较麻烦的是注册的时候需要使用信用卡进行验证（好像是不支持银联的？） 反正我注册了。</p><p>功能特别丰富而且统计功能也很强大，现在用着最好用的工具就是他分区域解析了 <del>CloudXNS虽然说更加强大，但是也要持证照 #碎碎念</del></p><h2 id="分区域解析"><a href="#分区域解析" class="headerlink" title="分区域解析"></a>分区域解析</h2><p>emmmmm这样就很简单了，设置 DNS 亚洲请求返回香港的服务器，欧洲请求返回欧洲服务器，其他请求通通丢到美国服务器。</p><h1 id="网站同步"><a href="#网站同步" class="headerlink" title="网站同步"></a>网站同步</h1><p>其实更加好的选择是使用 nginx 反向代理 + 缓存，<del>但是我比较懒</del> 就用 git 来同步我的各种网站内容了，在 cron 写个定时任务美滋滋，要是详说下去就是个大坑了以后再说<del>（发出了鸽子的声音</del></p><h1 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h1><p><a href="https://wzfou.com/ns1-dns/" target="_blank" rel="noopener">NS1 DNS域名解析使用-Master/Slave主从DNS和世界各地分区解析</a><br><a href="https://ns1.com/" target="_blank" rel="noopener">NS1.com</a><br><a href="https://blog.lvcshu.com/2018/08/07/%E5%8D%9A%E5%AE%A2%E5%8F%8C%E5%BC%80%EF%BC%8C%E9%81%BF%E5%85%8Doffline%E2%84%A2/">博客双开，避免offline™</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;emmmmm 众所周知由于中国的特殊情况使得中国的网络监管机制有别于外国，国内开展各项网络业务是需要经过备案的，而备案过程比较繁琐而且需要上传持证照，我是不太喜欢这个玩意儿的，所以我的博客也没备案。&lt;br&gt;
    
    </summary>
    
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
      <category term="博客" scheme="https://blog.lvcshu.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="DNS" scheme="https://blog.lvcshu.com/tags/DNS/"/>
    
      <category term="ns1" scheme="https://blog.lvcshu.com/tags/ns1/"/>
    
  </entry>
  
  <entry>
    <title>改进SSL证书相关策略</title>
    <link href="https://blog.lvcshu.com/2019/01/10/%E6%94%B9%E8%BF%9BSSL%E8%AF%81%E4%B9%A6%E7%9B%B8%E5%85%B3%E7%AD%96%E7%95%A5/"/>
    <id>https://blog.lvcshu.com/2019/01/10/改进SSL证书相关策略/</id>
    <published>2019-01-10T03:11:00.000Z</published>
    <updated>2019-01-10T13:40:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>自从使用了 docker 作为基础环境以后，我想着写一个能够服务进行统一集中管理的面板，一方面不想使用市面上使用比较广泛面板 <del>因为我做到他们不行啊啊啊</del>，一方面也算是一种练习吧<a id="more"></a></p><h1 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h1><p>抬头看下网站证书，yes！已经更换成泛域名证书啦~<br>简单的说下现在已经实现的 <del>满是bug的</del> 功能，证书分发，前文提过我是集中一个面板进行管理，面板中集成一个文件 <code>getcerfile.php</code> 可以直接访问（当然是有鉴权的啦，证书什么的不鉴权放公网会凉的），证书选用 Let’s 签发泛域名证书这样就不用考虑证书签发的时候解析到底解析到哪台服务器上去了 <del>不用造多轮子了，ye</del></p><h1 id="证书检测"><a href="#证书检测" class="headerlink" title="证书检测"></a>证书检测</h1><p>这一部分主要是受了  Axton 大佬的启发 详情看 <a href="https://flyhigher.top/develop/755.html" target="_blank" rel="noopener">这篇文章</a> ，加上本人比较弱，且目前暂时还不想用上数据库存数据，所以目前是用文件 + shell 进行证书检查工作 配合 php 输出为不那么难看的页面 并且嵌入在面板中。</p><p>效果图：</p><p><img src="https://i.loli.net/2019/01/10/5c36bc4ecd015.png" alt=""></p><p>emmmmmmmmm上传时发现自建图床好像出了问题。。考虑自己写一个？ <del>先咕咕咕为敬</del></p><p>代码如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">cat urlfile.list | <span class="keyword">while</span> <span class="built_in">read</span> line</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  touch <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line">  touch <span class="string">"data/<span class="variable">$line</span>.ca"</span></span><br><span class="line">  curl https://<span class="variable">$line</span> -v -s -o /dev/null 2&gt;<span class="string">"data/<span class="variable">$line</span>.ca"</span></span><br><span class="line">  datee=$(date +<span class="string">'%F %H:%M'</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"最后检查: "</span> <span class="variable">$datee</span> &gt; <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line"></span><br><span class="line">  data=$(cat <span class="string">"data/<span class="variable">$line</span>.ca"</span> | grep <span class="string">'subject:'</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"证书域名: "</span> <span class="variable">$&#123;data##* subject: &#125;</span> &gt;&gt; <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line"></span><br><span class="line">  data=$(cat <span class="string">"data/<span class="variable">$line</span>.ca"</span> | grep <span class="string">'start date:'</span>)</span><br><span class="line">  data=$(date -d <span class="string">"<span class="variable">$&#123;data##* start date: &#125;</span>"</span> +<span class="string">'%F %H:%M:%S'</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"签发日期: "</span><span class="variable">$&#123;data&#125;</span> &gt;&gt; <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line">  startdate=<span class="variable">$data</span></span><br><span class="line"></span><br><span class="line">  data=$(cat <span class="string">"data/<span class="variable">$line</span>.ca"</span> | grep <span class="string">'expire date: '</span>)</span><br><span class="line">  data=$(date -d <span class="string">"<span class="variable">$&#123;data##* expire date: &#125;</span>"</span> +<span class="string">'%F %H:%M:%S'</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"失效日期: "</span> <span class="variable">$data</span> &gt;&gt; <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line">  enddate=<span class="variable">$data</span></span><br><span class="line"></span><br><span class="line">  data=$(cat <span class="string">"data/<span class="variable">$line</span>.ca"</span> | grep <span class="string">'issuer: '</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"签发机构: "</span><span class="variable">$&#123;data##* issuer: &#125;</span> &gt;&gt; <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line"></span><br><span class="line">  data=$(cat <span class="string">"data/<span class="variable">$line</span>.ca"</span> | grep <span class="string">'SSL certificate verify ok.'</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"证书状态: "</span><span class="variable">$&#123;data##* &#125;</span> &gt;&gt; <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line"></span><br><span class="line">  startdate=$(date -d <span class="string">"<span class="variable">$&#123;startdate&#125;</span>"</span> +%s)</span><br><span class="line">  enddate=$(date -d <span class="string">"<span class="variable">$&#123;enddate&#125;</span>"</span> +%s)</span><br><span class="line">  datee=$(date -d <span class="string">"<span class="variable">$&#123;datee&#125;</span>"</span> +%s)</span><br><span class="line"></span><br><span class="line">  long=$((<span class="variable">$enddate</span>-<span class="variable">$startdate</span>))</span><br><span class="line">  datee=$((<span class="variable">$datee</span>-<span class="variable">$startdate</span>))</span><br><span class="line">  datee=$((<span class="variable">$datee</span>*100))</span><br><span class="line">  hundred=100</span><br><span class="line">  persent=$((<span class="variable">$datee</span>/<span class="variable">$long</span>))</span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"&lt;div class=\"mdui-progress\"&gt;&lt;div class=\"mdui-progress-determinate\" style=\"width: <span class="variable">$&#123;persent&#125;</span>%;\"&gt;&lt;/div&gt;&lt;/div&gt;"</span> &gt;&gt; <span class="string">"data/<span class="variable">$line</span>"</span></span><br><span class="line"></span><br><span class="line">  rm <span class="string">"data/<span class="variable">$line</span>.ca"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p><p>展示的代码如下：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">include_once</span> <span class="string">'config.php'</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($_COOKIE[<span class="string">"user"</span>] == md5($username.$userpasswd)) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">'&lt;div class="mdui-panel" mdui-panel&gt;'</span>;</span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">listDir</span><span class="params">($dir)</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">if</span> (is_dir($dir)) &#123;</span></span><br><span class="line"><span class="php">            <span class="keyword">if</span> ($dh = opendir($dir)) &#123;</span></span><br><span class="line"><span class="php">                <span class="keyword">while</span> (($file = readdir($dh)) !== <span class="keyword">false</span>) &#123;</span></span><br><span class="line"><span class="php">                    <span class="keyword">if</span> ($file != <span class="string">"."</span> &amp;&amp; $file != <span class="string">".."</span>) &#123;</span></span><br><span class="line"><span class="php">                        <span class="keyword">echo</span> <span class="string">'&lt;div class="mdui-panel-item"&gt;'</span>;</span></span><br><span class="line"><span class="php">                        <span class="keyword">echo</span> <span class="string">'&lt;div class="mdui-panel-item-header"&gt;'</span>.<span class="string">'&lt;div class="mdui-panel-item-title"&gt;'</span>.$file.<span class="string">'&lt;/div&gt;'</span>.<span class="string">'&lt;i class="mdui-panel-item-arrow mdui-icon material-icons"&gt;keyboard_arrow_down&lt;/i&gt;'</span>.<span class="string">'&lt;/div&gt;'</span>;</span></span><br><span class="line"><span class="php">                        <span class="keyword">echo</span> <span class="string">'&lt;div class="mdui-panel-item-body"&gt;'</span>;</span></span><br><span class="line"><span class="php">                        $myfile = fopen(<span class="string">"$dir/$file"</span>, <span class="string">"r"</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"Unable to open file!"</span>);</span></span><br><span class="line"><span class="php">                        <span class="keyword">while</span> (!feof($myfile)) &#123;</span></span><br><span class="line"><span class="php">                            <span class="keyword">echo</span> <span class="string">'&lt;p&gt;'</span>.fgets($myfile) . <span class="string">'&lt;/p&gt;'</span>;</span></span><br><span class="line"><span class="php">                        &#125;</span></span><br><span class="line"><span class="php">                        <span class="keyword">echo</span> <span class="string">'&lt;/div&gt;&lt;/div&gt;'</span>;</span></span><br><span class="line"><span class="php">                        fclose($myfile);</span></span><br><span class="line"><span class="php">                    &#125;</span></span><br><span class="line"><span class="php">                &#125;</span></span><br><span class="line"><span class="php">                closedir($dh);</span></span><br><span class="line"><span class="php">            &#125;</span></span><br><span class="line"><span class="php">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">            <span class="keyword">echo</span> $dir . <span class="string">'&lt;br&gt;'</span>;</span></span><br><span class="line"><span class="php">        &#125;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    listDir(<span class="string">"./data"</span>);</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">'&lt;/div&gt;'</span>;</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">'error'</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure></p><h1 id="证书分发"><a href="#证书分发" class="headerlink" title="证书分发"></a>证书分发</h1><p>emmmm上面也看的出来我是用 user 和 passwd md5一下写进cookie进行验证的，需要验证的 域名直接存放在 <code>urlfile.list</code> 文件里面 (我实在是太菜了)</p><p>同理分发证书也利用 cookie 进行身份验证</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">include_once</span> <span class="string">'config.php'</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($_COOKIE[<span class="string">"user"</span>] == md5($username.$userpasswd)) &#123;</span></span><br><span class="line"><span class="php">    $myfile = fopen($_GET[<span class="string">'file'</span>], <span class="string">"r"</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"Unable to open file!"</span>);</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> fread($myfile, filesize($_GET[<span class="string">'file'</span>]));</span></span><br><span class="line"><span class="php">    fclose($myfile);</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">    header(<span class="string">"Location: /index.php"</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><p>然后直接读取证书文件进行直接输出，同时 nginx 那儿对文件目录进行权限控制，获取证书使用</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http<span class="variable">s:</span>//****/getcerfile.php?<span class="keyword">file</span>=ssl/lvcshu.<span class="keyword">com</span>/lvcshu.<span class="keyword">com</span>.key -H <span class="string">'cookie: user=？？？'</span> &gt; lvcshu.<span class="keyword">com</span>.key</span><br></pre></td></tr></table></figure><p>获取，这样在需要部署证书服务器上定时执行脚本可以更新证书了，同时 泛域名证书 使用 acme.sh 进行自动续期 emmmmmmmm 差不多这样如各位大佬发现什么不妥地方记得及时联系我啊 QAQ<br>Telegram:<a href="https://t.me/johnpoint" target="_blank" rel="noopener">@johnpoint</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;自从使用了 docker 作为基础环境以后，我想着写一个能够服务进行统一集中管理的面板，一方面不想使用市面上使用比较广泛面板 &lt;del&gt;因为我做到他们不行啊啊啊&lt;/del&gt;，一方面也算是一种练习吧
    
    </summary>
    
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
      <category term="建站" scheme="https://blog.lvcshu.com/tags/%E5%BB%BA%E7%AB%99/"/>
    
      <category term="SSL检测" scheme="https://blog.lvcshu.com/tags/SSL%E6%A3%80%E6%B5%8B/"/>
    
      <category term="证书分发" scheme="https://blog.lvcshu.com/tags/%E8%AF%81%E4%B9%A6%E5%88%86%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>2018年度简报</title>
    <link href="https://blog.lvcshu.com/2018/12/25/2018%E5%B9%B4%E5%BA%A6%E7%AE%80%E6%8A%A5/"/>
    <id>https://blog.lvcshu.com/2018/12/25/2018年度简报/</id>
    <published>2018-12-25T08:47:00.000Z</published>
    <updated>2019-01-22T13:42:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先 圣诞快乐~<br>转眼间啊，2018年就快要过去了，是时候来 <del>水</del> 写一篇年终总结了<br><a id="more"></a></p><h1 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h1><h2 id="这一年学了什么？"><a href="#这一年学了什么？" class="headerlink" title="这一年学了什么？"></a>这一年学了什么？</h2><ul><li>apache</li><li>PHP</li><li>javacript</li><li>SQL</li><li>docker</li></ul><h2 id="成果？"><a href="#成果？" class="headerlink" title="成果？"></a>成果？</h2><p>emmmmmmmm好像也没有什么成果可以出来说的，就简单的定制了几个 docker 并且写成了 docker-compose 使得我在部署服务器的时候能够更加方便，然后时间也比之前采用的脚本的编译安装要大大缩短，<del>以后重装服务器就更加肆无忌惮了</del></p><p>同时，初步的尝试使用 N2Nv2 的 peer to peer VPN 把所有的服务器链接成一个大内网，以后有什么证书之类的文件就可以通过内网进行传输了，并且我的电脑也连上了这个内网，使得我在外面（不在电脑身边）也能通过连接上我任意一台 VPS 来链接我的电脑。但是目前只是刚刚开始部署，估计完全搞定得到 2019 年了….</p><p>还有这个！<br>求star！！<br><a href="https://github.com/johnpoint/anti-360browser.js" target="_blank" rel="noopener">johnpoint/anti-360browser.js</a></p><h1 id="GIthub-的一年"><a href="#GIthub-的一年" class="headerlink" title="GIthub 的一年"></a>GIthub 的一年</h1><p><img src="https://i.loli.net/2018/12/31/5c29bf6820a6c.png" alt="github.com_johnpoint_tab=overview&amp;from=2018-01-01&amp;to=2018-01-31(iPhone 5_SE).png"></p><p>那么 2019 加油哇~<br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  __     __   ___   ___  _  ___   __  </span><br><span class="line"> / /    / / |<span class="string">___ \ / _ \/ </span>|<span class="string">( _ )  \ \</span></span><br><span class="line"><span class="string">/ /    / /    __) </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string">/ _ \   \ \</span></span><br><span class="line"><span class="string">\ \   / /    / __/</span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> (_) </span>|<span class="string">  / /</span></span><br><span class="line"><span class="string"> \_\ /_/    </span>|<span class="string">_____</span>|<span class="string">\___/</span>|<span class="string">_</span>|<span class="string">\___/  /_/</span></span><br></pre></td></tr></table></figure></p><hr><h1 id="2019-计划"><a href="#2019-计划" class="headerlink" title="2019 计划"></a>2019 计划</h1><ul><li>预习JAVA</li><li>把 业余无线电牌照 考到手</li><li>继续学习算法知识</li><li>待定…</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先 圣诞快乐~&lt;br&gt;转眼间啊，2018年就快要过去了，是时候来 &lt;del&gt;水&lt;/del&gt; 写一篇年终总结了&lt;br&gt;
    
    </summary>
    
    
      <category term="总结" scheme="https://blog.lvcshu.com/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="2018" scheme="https://blog.lvcshu.com/tags/2018/"/>
    
      <category term="2019" scheme="https://blog.lvcshu.com/tags/2019/"/>
    
      <category term="简报" scheme="https://blog.lvcshu.com/tags/%E7%AE%80%E6%8A%A5/"/>
    
  </entry>
  
  <entry>
    <title>学习笔记:初识httpd</title>
    <link href="https://blog.lvcshu.com/2018/11/02/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0:%E5%88%9D%E8%AF%86httpd/"/>
    <id>https://blog.lvcshu.com/2018/11/02/学习笔记:初识httpd/</id>
    <published>2018-11-02T01:49:57.000Z</published>
    <updated>2018-12-29T11:08:13.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>提醒：这只是一篇学习笔记，不保证语句通顺，仅作记录。</p></blockquote><a id="more"></a><h1 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h1><h2 id="安装-httpd、php、mysql"><a href="#安装-httpd、php、mysql" class="headerlink" title="安装 httpd、php、mysql"></a>安装 httpd、php、mysql</h2><ul><li>建立 <strong>两个</strong> 虚拟主机建立网站，并申请 <strong>SSL</strong> 使其能够通过 <strong>https</strong> 访问</li></ul><h2 id="学习过程"><a href="#学习过程" class="headerlink" title="学习过程"></a>学习过程</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> https://mirrors.ustc.edu.cn/epel/epel-<span class="keyword">release</span>-latest<span class="number">-6.</span>noarch.rpm https://mirrors.ustc.edu.cn/remi/<span class="keyword">enterprise</span>/remi-<span class="keyword">release</span><span class="number">-6.</span>rpm</span><br><span class="line"></span><br><span class="line">yum -y <span class="keyword">install</span> yum-utils</span><br><span class="line">yum-config-manager <span class="comment">--enable remi-php72</span></span><br><span class="line"></span><br><span class="line">yum -y <span class="keyword">install</span> httpd  mysql  mysql-<span class="keyword">server</span>  mysql-connector-odbc  mysql-devel  libdbi-dbd-mysql  openssl  mod_ssl  httpd-<span class="keyword">manual</span>  mod_ssl  mod_perl  mod_auth_mysql</span><br><span class="line"></span><br><span class="line">yum -y <span class="keyword">install</span> php  php-mcrypt  php-cli  php-gd  php-curl  php-mysql  php-zip  php-fileinfo  php-fpm  php-<span class="keyword">xml</span>  php-mbstring  php-ldap  php-xmlrpc  php-devel</span><br></pre></td></tr></table></figure><p>设置开机启动</p><p>chkconfig httpd on<br>chkconfig mysqld on<br>建立虚拟主机文件夹<br>cd /home<br>mkdir www<br>修改httpd配置文件<br>cd /etc/httpd/conf<br>vi httpd.conf<br>加入</p><p>Include /home/www/vhost.conf<br>解析域名<br>略</p><p>新建虚拟主机<br>建立虚拟主机路径<br>cd /home/www<br>mkdir hk.lvcshu.info<br>新建虚拟主机配置<br>vi vhost.conf<br>写入</p><virtualhost *:80=""><br>    DocumentRoot /home/www/hk.lvcshu.info<br>    ServerName hk.lvcshu.info<br>    RewriteEngine on<br>    RewriteCond %{SERVER_PORT} !^443<br>    RewriteRule ^(.*)?$ https://%{SERVER_NAME}/$1 [R=permanent,L]<br></virtualhost><p><directory "="" home="" www="" hk.lvcshu.info"=""><br>    Options Indexes FollowSymLinks<br>    AllowOverride all<br>    Order Deny,Allow<br>    Deny from none<br>    Allow from all<br></directory><br>建立一个简陋的主页<br>略</p><p>申请证书<br>使用 acme.sh 的开源项目</p><p>curl  <a href="https://get.acme.sh" target="_blank" rel="noopener">https://get.acme.sh</a> | sh</p><p>cd .acme.sh<br>acme.sh  –issue  -d hk.lvcshu.info –webroot  /home/www/hk.lvcshu.info/<br>证书路径：/root/.acme.sh/hk.lvcshu.info</p><p>SSLCertificateFile        /root/.acme.sh/hk.lvcshu.info/hk.lvcshu.info.cer<br>SSLCertificateKeyFile     /root/.acme.sh/hk.lvcshu.info/hk.lvcshu.info.key<br>配置 https</p><p><virtualhost *:443=""><br>DocumentRoot   /home/www/hk.lvcshu.info<br>ServerName     hk.lvcshu.info<br>SSLEngine      on<br>SSLCertificateFile        /root/.acme.sh/hk.lvcshu.info/hk.lvcshu.info.cer<br>SSLCertificateKeyFile     /root/.acme.sh/hk.lvcshu.info/hk.lvcshu.info.key<br></virtualhost><br>return 0;</p><p>更新：</p><p>其实有一个更加好的虚拟主机的管理方法，那就是一个网站用一个配置文件来管理，在配置文件 httpd.conf 中直接引入 /home/www/vhost/* 即可</p><p>例如在 <code>/home/www/vhost</code> 中 <code>hk.lvcshu.info.dom</code> 即为 <code>hk.lvcshu.info</code> 的配置文件。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;提醒：这只是一篇学习笔记，不保证语句通顺，仅作记录。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
      <category term="httpd" scheme="https://blog.lvcshu.com/tags/httpd/"/>
    
      <category term="学习笔记" scheme="https://blog.lvcshu.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>树莓派 docker 搭建 pi-dashboard</title>
    <link href="https://blog.lvcshu.com/2018/10/21/%E6%A0%91%E8%8E%93%E6%B4%BE-docker-%E6%90%AD%E5%BB%BA-pi-dashboard/"/>
    <id>https://blog.lvcshu.com/2018/10/21/树莓派-docker-搭建-pi-dashboard/</id>
    <published>2018-10-20T21:40:21.000Z</published>
    <updated>2018-12-24T16:18:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>前一阵子我入手了一（台？）（个？）树莓派，但是一直都没有时间研究该用来做什么…. 然后无意间看见了一个叫做pi-dashboard 的小玩意儿 上一张图看看<br><a id="more"></a><br><img src="https://cdn.lvcshu.info/img/upload/1812/a6430c02dba0e979.png" alt=""><br>就是这样，性能看起来就比较方便了</p><h1 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h1><p>这里参考的是<a href="https://yeasy.gitbooks.io/docker_practice/install/raspberry-pi.html" target="_blank" rel="noopener">docker 中文文档</a>的安装过程<br>诶，用官方脚本一步搞定嘞<br><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">curl </span>-<span class="string">fsSL </span><span class="string">get.</span><span class="string">docker.</span><span class="string">com </span>-o <span class="built_in">get-docker.sh</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="string">sh </span><span class="built_in">get-docker.sh</span> <span class="built_in">--mirror</span> <span class="string">Aliyun</span></span><br></pre></td></tr></table></figure></p><p>很快的。。。</p><h1 id="使用docker一步搞定-pi-dashboard"><a href="#使用docker一步搞定-pi-dashboard" class="headerlink" title="使用docker一步搞定 pi-dashboard"></a>使用docker一步搞定 pi-dashboard</h1><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d --<span class="built_in">name</span> docker-<span class="literal">pi</span>-dashboard -e <span class="string">'LISTEN=1024'</span> --net=host ecat/docker-<span class="literal">pi</span>-dashboard</span><br></pre></td></tr></table></figure><p>来自<a href="https://zhuanlan.zhihu.com/p/34923907" target="_blank" rel="noopener">一键部署pi dashboard</a></p><p>好了，就这么水完了…</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前一阵子我入手了一（台？）（个？）树莓派，但是一直都没有时间研究该用来做什么…. 然后无意间看见了一个叫做pi-dashboard 的小玩意儿 上一张图看看&lt;br&gt;
    
    </summary>
    
    
      <category term="树莓派" scheme="https://blog.lvcshu.com/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="docker" scheme="https://blog.lvcshu.com/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 安装 thinkpad S2 无线网卡驱动</title>
    <link href="https://blog.lvcshu.com/2018/08/25/Ubuntu%E5%AE%89%E8%A3%85-thinkpad-S2-%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.lvcshu.com/2018/08/25/Ubuntu安装-thinkpad-S2-无线网卡驱动/</id>
    <published>2018-08-25T08:58:00.000Z</published>
    <updated>2018-12-25T09:04:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近入手了一台 thinkpad S2 ，打开 windows 系统，觉得缺了点什么，于是连忙把 ubuntu 系统也安装了上去，但是在配置 ubuntu 系统的时候并没有让我连接网络的选项，当时就感觉有些奇怪<a id="more"></a>，但是没有放在心上。安装完成后打开 <em>ubuntu</em> 系统发现系统 <strong>根本没有</strong> 检测到无线网卡的存在，于是我就慌了，赶紧回到 <em>windows</em> 系统，看见了无线网卡的型号<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Realtek 8821CE<span class="built_in"> Wireless LAN </span>802.11ac PCI-E NIC</span><br></pre></td></tr></table></figure></p><p>于是使用强大的 <del>百度</del> <strong>google</strong> 搜索解决办法，最后在 ubuntu论坛 的<a href="http://forum.ubuntu.org.cn/viewtopic.php?f=116&amp;t=485936" target="_blank" rel="noopener">这个帖子</a>里发现了解决办法。</p><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>由<a href="http://forum.ubuntu.org.cn/viewtopic.php?f=116&amp;t=485936" target="_blank" rel="noopener">这个帖子里</a>的大佬在<a href="https://unix.stackexchange.com/questions/379049/realtek-wifi-driver-problem-in-linux-mint-18-2" target="_blank" rel="noopener">这里</a>请教到的大佬给出解决方法</p><p>原文如下：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Worked solution (Requirements: kernel &gt;=<span class="number">4.11</span>) :</span><br><span class="line"></span><br><span class="line">(UPD: In <span class="keyword">the</span> latest release <span class="keyword">of</span> endlessm you need kernel <span class="built_in">version</span> <span class="number">4.15</span>)</span><br><span class="line"></span><br><span class="line">Download driver <span class="built_in">directory</span> <span class="built_in">from</span> this repo: <span class="keyword">https</span>://github.com/endlessm/linux/tree/master/drivers/net/wireless/rtl8821ce</span><br><span class="line">You can <span class="built_in">do</span> <span class="keyword">it</span> <span class="keyword">by</span> this link: <span class="keyword">https</span>://minhaskamal.github.io/DownGit/<span class="comment">#/home?url=https://github.com/endlessm/linux/tree/master/drivers/net/wireless/rtl8821ce</span></span><br><span class="line"></span><br><span class="line">Unpack zip archive.</span><br><span class="line">Change <span class="keyword">the</span> Makefile. Line <span class="string">"export TopDIR ?= ..."</span> <span class="built_in">to</span> export <span class="string">"TopDIR ?= PATH TO EXTRACTED DIRECTORY"</span>.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ make</span><br><span class="line">$ sudo make install</span><br><span class="line">$ sudo modprobe -<span class="keyword">a</span> <span class="number">8821</span>ce</span><br></pre></td></tr></table></figure></p><p>至此，完美解决了这个问题</p><h1 id="一点小问题"><a href="#一点小问题" class="headerlink" title="一点小问题"></a>一点小问题</h1><p>在某次 ubuntu 的内核升级了以后，我发现我的无线网卡驱动 <strong>又没了</strong> <del>马上扔掉电脑</del> 于是我想到了使用脚本进行安装，这样就可以在下一次遇到这样的问题时快速解决！</p><p>脚本内容：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">mv rtl8821ce.zip /home/johnpoint</span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">unzip rtl8821ce.zip</span><br><span class="line"><span class="built_in">cd</span> rtl8821ce</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line">sudo modprobe -a 8821ce</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure></p><p>撒花</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近入手了一台 thinkpad S2 ，打开 windows 系统，觉得缺了点什么，于是连忙把 ubuntu 系统也安装了上去，但是在配置 ubuntu 系统的时候并没有让我连接网络的选项，当时就感觉有些奇怪
    
    </summary>
    
    
      <category term="Ubuntu" scheme="https://blog.lvcshu.com/tags/Ubuntu/"/>
    
      <category term="thinkpad S2" scheme="https://blog.lvcshu.com/tags/thinkpad-S2/"/>
    
  </entry>
  
  <entry>
    <title>密码管理器是好文明</title>
    <link href="https://blog.lvcshu.com/2018/08/24/%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E5%99%A8%E6%98%AF%E5%A5%BD%E6%96%87%E6%98%8E/"/>
    <id>https://blog.lvcshu.com/2018/08/24/密码管理器是好文明/</id>
    <published>2018-08-24T00:26:36.000Z</published>
    <updated>2018-12-25T09:10:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>密码一直以来是人们帐号的一个薄弱点，通过各种各样的途径，想要获取他人密码的人总能获取到另他们满意的信息，<a id="more"></a>而人们喜欢利用自己个人信息的组合作为密码立下了汗马功劳，而一些人对于密码重要性毫不了解从而设下简单密码的人也功不可没，而我，一直以来使用的是一串字符串所生成 md5 来作为我帐号的密码，自认为十分安全，实则不然，因为密码中只含有小写字母和数字，是可以实现暴力破解的。加上一些特殊符号的密码是目前为止相对安全的密码解决方案，但是 <strong>复杂的密码太难记了啊</strong> 这该咋办，直到某群大佬说出了 <strong>密码管理器是好文明（）</strong> 我才发现原来早就有人想到解决方案了。</p><p>目前，网络上流行的有四款密码管理器：</p><ul><li>KeePass：免费 开源 兼容性强</li><li>LastPass：最大的优势是跨浏览器平台</li><li>1Password：跨平台管理 用户认可度高</li><li>Enpass：支持平台多 20条密码免费</li></ul><p>而其中，我第一时间试用了 LastPass 发现多设备使用需要高级版本授权，而授权居然需要 VISA卡 （我没有啊啊啊啊） ，于是舍弃。后来我看见了开源解决方案 KeePass 在经过一段时间的使用之后，觉得用起来十分舒服，而且支持 Linux 、Windows 和手机系统，而且支持 Webdav ，这在自己已经搭建了网盘的人来说简直就是太爽了，不用担心密码存放在别人手里而不安全，但是安全设施一定要做好。</p><p>KeePass 同样采用了主流的一个主密码打开密码数据库文件的模式，这时，这个主密码就代表了你的所有密码，需要尽可能的兼顾复杂与你的好记，这就是唯一需要做的。至于其他密码，KeePass 提供了随机密码生成器，能自定义生成密码包含 字母、符号、特殊字符等内容，还可以自定义长度，总之就是非常爽就是了。</p><p>在用上 KeePass 的那一晚，我就把每一个可以想起来的帐号都改成了自动生成的强密码，感觉自己的帐号安全提升了不止一点半点，美滋滋～</p><p>赶快去尝试下咯～</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;密码一直以来是人们帐号的一个薄弱点，通过各种各样的途径，想要获取他人密码的人总能获取到另他们满意的信息，
    
    </summary>
    
    
      <category term="密码管理器" scheme="https://blog.lvcshu.com/tags/%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E5%99%A8/"/>
    
      <category term="Keepass" scheme="https://blog.lvcshu.com/tags/Keepass/"/>
    
      <category term="安全" scheme="https://blog.lvcshu.com/tags/%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>博客双开，避免offline™</title>
    <link href="https://blog.lvcshu.com/2018/08/07/%E5%8D%9A%E5%AE%A2%E5%8F%8C%E5%BC%80%EF%BC%8C%E9%81%BF%E5%85%8Doffline%E2%84%A2/"/>
    <id>https://blog.lvcshu.com/2018/08/07/博客双开，避免offline™/</id>
    <published>2018-08-06T21:30:37.000Z</published>
    <updated>2018-12-24T16:18:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>怎么双开博客呢？<br>答案就是—— vps 与 github 一起部署。。。<br><a id="more"></a><br>好吧，我承认我是标题党了一下，主要是记录一下我 成功部署 完 hexo 博客了以后如何将博客部署到 github 上去。</p><h1 id="创建远程仓库"><a href="#创建远程仓库" class="headerlink" title="创建远程仓库"></a>创建远程仓库</h1><p>就是在 github 上创建一个名称为 用户名.github.io 的仓库，这一个仓库可以在自动化部署之后在 用户名.github.io 生成博客，而用 github 在全世界（除中国大陆，中国大陆就是互联网上的孤岛）外厉害的 cdn ，我们的博客访问速度会比较快， 注意，一开始我是选择不初始化仓库，这样可以避免一些莫名奇妙的坑！</p><h1 id="修改-站点配置"><a href="#修改-站点配置" class="headerlink" title="修改 站点配置"></a>修改 站点配置</h1><p>在 站点根目录 下的 <code>_config.yml</code> 寻找 <code>deploy</code> 关键词，将其 整部分 修改为：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span> GitHub上仓库的完整路径包括 .git</span><br><span class="line"><span class="symbol">  branch:</span> master</span><br></pre></td></tr></table></figure></p><p>repo 的链接一定要是 ssh 而不是 https 的！！！</p><h1 id="配置-git"><a href="#配置-git" class="headerlink" title="配置 git"></a>配置 git</h1><p>生成 ssh 密钥<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"你的GitHub用户名"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure></p><p>生成ssh密钥文件：<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -<span class="built_in">t</span> rsa -C <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure></p><p>然后直接三个回车即可，默认不需要设置密码<br>然后找到生成的 .ssh 的文件夹中的 <code>id_rsa.pub</code> 密钥，将内容全部复制</p><p>打开 GitHub_Settings_keys 页面，新建 <code>new SSH Key</code></p><p><code>Title</code> 为标题，任意填即可，将刚刚复制的 <code>id_rsa.pub</code> 内容粘贴进去，最后点击 <code>Add SSH key</code>。</p><p>大功告成！</p><blockquote><p>以上部分内容来自 <a href="https://zhuanlan.zhihu.com/p/26625249" target="_blank" rel="noopener">GitHub+Hexo 搭建个人网站详细教程</a></p></blockquote><p>推送博客至 github<br>好了，我们使用下面的一条指令就可以将博客推送到 github 上，实现某些意义上的 neveroffline™ 了！</p><p>撒花～～</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;怎么双开博客呢？&lt;br&gt;答案就是—— vps 与 github 一起部署。。。&lt;br&gt;
    
    </summary>
    
    
      <category term="Github" scheme="https://blog.lvcshu.com/tags/Github/"/>
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
      <category term="git" scheme="https://blog.lvcshu.com/tags/git/"/>
    
      <category term="blog" scheme="https://blog.lvcshu.com/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>设定微信自动发送信息</title>
    <link href="https://blog.lvcshu.com/2018/07/21/%E8%AE%BE%E5%AE%9A%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF/"/>
    <id>https://blog.lvcshu.com/2018/07/21/设定微信自动发送信息/</id>
    <published>2018-07-20T22:10:58.000Z</published>
    <updated>2018-12-24T16:18:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先先说一说吐槽一下微信封闭的生态圈，除了开放给搜狗这个搜索引擎可以搜索微信公众号的 api 之外，几乎没有开放任何可以利用的 api ，固然这有其在安全方面的考虑，但是这就使得一些比较有趣的功能难以实现，例如机器人。而一些比较实用的功能又在官方垃圾客户端中没有实现。<br><a id="more"></a></p><h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>在 chrome 上了 web 版微信的基础上利用 chrome 自带的 console + javascript 实现 自动、循环、发送信息</p><h1 id="施工"><a href="#施工" class="headerlink" title="施工"></a>施工</h1><p>首先声明，我在事前并 <strong>没有</strong> 了解过 javascript 这种语言，一切都是通过善用搜索引擎来一步一步实现的，所以请各位看到这一篇文章的大佬们看到有什么不妥的地方欢迎在评论区指出。</p><p>网页源码<br>首先当然是登录网页版微信，顺手打开 F12 开发者工具，尝试着发送了几条信息，并在 network 选项卡里面观察了一下网页的活动，然后发现</p><pre id="editArea" contenteditable-directive="" mm-paste="" class="flex edit_area ng-isolate-scope ng-pristine ng-valid" contenteditable="true" ng-blur="editAreaBlur($event)" ng-model="editAreaCtn" ng-click="editAreaClick($event)" ng-keyup="editAreaKeyup($event)" ng-keydown="editAreaKeydown($event)"></pre><p>然而并没有什么用。。。</p><p>google搜索<br>然后，我分别以 微信、发信息、chrome、console、javascript 为关键词进行搜索，最终发现了这篇文章–&gt;用javascriptt脚本实现微信定时发送信息，关键词命中。遂打开，发现正是我想要的。</p><p>修改代码<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 周一----周五： 6:50 AM 提醒对方起床， 9：30 PM提醒对方回宿舍</span></span><br><span class="line">    <span class="keyword">var</span> appElement = document.querySelector(<span class="string">'[ng-controller=chatSenderController]'</span>);</span><br><span class="line">    <span class="keyword">var</span> $scope = angular.element(appElement).scope();</span><br><span class="line">    setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">var</span> localTime = <span class="keyword">new</span> Date();</span><br><span class="line">        <span class="keyword">if</span>(localTime.getDay() &lt; <span class="number">6</span>)&#123; <span class="comment">//非周末</span></span><br><span class="line">            <span class="keyword">var</span> localTimeString = localTime.toLocaleTimeString();</span><br><span class="line">            <span class="keyword">if</span>(localTimeString.indexOf(<span class="string">'上午6:49:00'</span>) === <span class="number">0</span>)&#123;</span><br><span class="line">                $scope.editAreaCtn = <span class="string">"6.50了，你该起床了！"</span>;</span><br><span class="line">                $scope.sendTextMessage();</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(localTimeString.indexOf(<span class="string">'上午6:54:00'</span>) === <span class="number">0</span>)&#123;</span><br><span class="line">                $scope.editAreaCtn = <span class="string">"今天又是新的一天，祝你好运！"</span>;</span><br><span class="line">                $scope.sendTextMessage();</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(localTimeString.indexOf(<span class="string">'下午9:28:00'</span>) === <span class="number">0</span>)&#123;</span><br><span class="line">                $scope.editAreaCtn = <span class="string">"时间快到9:30了，你该回去了！"</span>;</span><br><span class="line">                $scope.sendTextMessage();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure></p><p>在这篇文章中，发送微信消息之前还要进行一波判断，但是我不需要，我只需要无脑发就行，（对了还要设置一个间歇时间，不然就成了刷屏了），最终改成这样：</p><p>var appElement = document.querySelector(‘[ng-controller=chatSenderController]’);<br>var $scope = angular.element(appElement).scope();<br>setInterval(function(){</p><p>$scope.editAreaCtn = “消息内容”;<br>$scope.sendTextMessage();<br>},1000);<br>然后把这一段小代码输进 console 运行了一下，哎呦，太快了。赶紧停下，发现 chrome 已经全神贯注发信息卡死了。。。无奈只好 kill 了 chrome 的进程。</p><p>sleep 的加入以及最终成果<br>然后想起 python 是有 sleep 这种用法的，马上搜索下，发现了一种 javascript sleep 的<br>土制方法（ javascript 本身不支持 sleep ）</p><p>最后修改了下代码，再结合 for 进行死循环，最终成果：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> appElement = <span class="built_in">document</span>.querySelector(<span class="string">'[ng-controller=chatSenderController]'</span>);</span><br><span class="line"><span class="keyword">var</span> $scope = angular.element(appElement).scope();</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">$scope.editAreaCtn = <span class="string">"发送内容"</span>;</span><br><span class="line">$scope.sendTextMessage();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">ms</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, ms))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">i=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(;;i++)</span><br><span class="line">&#123;</span><br><span class="line">test()</span><br><span class="line"><span class="keyword">await</span> sleep(<span class="number">1000000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>那么，只需要登录网页版微信，定位到想发信息的聊天窗口，运行即可！</p><hr><p>续</p><p>在写完了上一篇文章以后，问题来了，有个人开始笑话我代码自带加密，于是，按照他的要求改了一下，顺便加上了从10～15分钟随机抽取间歇时间的功能，代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> appElement = <span class="built_in">document</span>.querySelector(<span class="string">'[ng-controller=chatSenderController]'</span>);</span><br><span class="line"><span class="keyword">var</span> $scope = angular.element(appElement).scope();</span><br><span class="line"><span class="keyword">var</span> n = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> m = <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入sleep</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">ms</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, ms))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//发送消息</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  $scope.editAreaCtn = <span class="string">"消息内容"</span>;</span><br><span class="line">  $scope.sendTextMessage();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//产生n~m的随机数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rd</span>(<span class="params">n,m</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> c = m-n+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * c + n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//死循环</span></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">  test();</span><br><span class="line">  t = rd(n,m)</span><br><span class="line">  <span class="built_in">console</span>.log(t)</span><br><span class="line">  <span class="keyword">await</span> sleep(t * <span class="number">10000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>今日水文结束</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先先说一说吐槽一下微信封闭的生态圈，除了开放给搜狗这个搜索引擎可以搜索微信公众号的 api 之外，几乎没有开放任何可以利用的 api ，固然这有其在安全方面的考虑，但是这就使得一些比较有趣的功能难以实现，例如机器人。而一些比较实用的功能又在官方垃圾客户端中没有实现。&lt;br&gt;
    
    </summary>
    
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
      <category term="微信" scheme="https://blog.lvcshu.com/tags/%E5%BE%AE%E4%BF%A1/"/>
    
      <category term="javascript" scheme="https://blog.lvcshu.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>安装hexo博客及其优化记录</title>
    <link href="https://blog.lvcshu.com/2018/07/20/%E5%AE%89%E8%A3%85hexo%E5%8D%9A%E5%AE%A2%E5%8F%8A%E5%85%B6%E4%BC%98%E5%8C%96%E8%AE%B0%E5%BD%95/"/>
    <id>https://blog.lvcshu.com/2018/07/20/安装hexo博客及其优化记录/</id>
    <published>2018-07-19T22:01:39.000Z</published>
    <updated>2019-01-22T13:42:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>使用<a href="https://lnmp.org" target="_blank" rel="noopener">lnmp.org</a>的lnmp安装一键包，按程序安装好即可，并顺手创建一个虚拟主机，不需要重写，不需要数据库。</p><a id="more"></a><blockquote><p>本文采用 lvcshu.com 为示例域名</p></blockquote><h1 id="安装-HEXO"><a href="#安装-HEXO" class="headerlink" title="安装 HEXO"></a>安装 HEXO</h1><p>按照官网说明的方法一步步安装</p><h1 id="安装-node-js"><a href="#安装-node-js" class="headerlink" title="安装 node.js"></a>安装 node.js</h1><p>curl:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/creationix/</span>nvm<span class="regexp">/v0.33.2/i</span>nstall.sh | bash</span><br></pre></td></tr></table></figure></p><p>或</p><p>wget:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/creationix/</span>nvm<span class="regexp">/v0.33.2/i</span>nstall.sh | bash</span><br></pre></td></tr></table></figure></p><p>然后重启终端或者ssh重新连接<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm <span class="keyword">install</span> stable</span><br></pre></td></tr></table></figure></p><h1 id="安装-hexo-cil"><a href="#安装-hexo-cil" class="headerlink" title="安装 hexo-cil"></a>安装 hexo-cil</h1><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure><p>随后就会很快安装完成！</p><h1 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h1><blockquote><p>安装Hexo后，运行以下命令以初始化目标中的Hexo 。</p></blockquote><p>此处的 folder 就是我们博客的主目录，即 lnmp 虚拟主机的目录，进入目录以后执行<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init .  </span><br><span class="line">npm <span class="keyword">install</span>  </span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure></p><p>此时我们博客的静态页面已经成功生成了，但是访问页面是没有办法看到的，接着下一步</p><h1 id="调整-nginx-配置文件"><a href="#调整-nginx-配置文件" class="headerlink" title="调整 nginx 配置文件"></a>调整 nginx 配置文件</h1><p>打开 nginx <strong>相应站点</strong> 的配置文件，找到<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root  /home/wwwroot/lvcshu.com<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><p>改为<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root  <span class="regexp">/home/</span>wwwroot<span class="regexp">/blog.lvcshu.com/</span><span class="keyword">public</span>;</span><br></pre></td></tr></table></figure></p><p><strong>记住：有两个地方要改，对应http与https</strong></p><p><em>推荐：可以将 http 通过301跳转，跳转到 https</em><br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lnmp nginx restart</span></span><br></pre></td></tr></table></figure></p><p>看看效果吧！</p><h1 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h1><p>网络上有很多开源的，十分漂亮的 hexo 主题而默认主题是真的丑我想不使用默认主题，找到了一个极简但是十分美观的主题——“NexT”</p><h2 id="安装-NexT-主题"><a href="#安装-NexT-主题" class="headerlink" title="安装 NexT 主题"></a>安装 NexT 主题</h2><p>进入博客主目录<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/theme-<span class="keyword">next</span>/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure></p><p>然后前往 <strong>站点配置文件(博客主目录下 ‘_config.yml’)</strong> 将 theme 字段改为 next ，然后执行 <code>hexo clean &amp;&amp; hexo g</code> ,打开网站即可看到效果。</p><hr><h1 id="Next主题优化"><a href="#Next主题优化" class="headerlink" title="Next主题优化"></a>Next主题优化</h1><p><strong>以下内容来自 <a href="https://zhuanlan.zhihu.com/p/30836436" target="_blank" rel="noopener">Hexo+Next主题优化</a> 建议前往围观及点赞！</strong></p><h2 id="设置主题风格"><a href="#设置主题风格" class="headerlink" title="设置主题风格"></a>设置主题风格</h2><p>打开 <code>themes/next/_config.yml</code> 文件，搜索 <code>scheme</code> 关键字，将你需用启用的 <code>scheme</code> 前面注释 <code>#</code> 去除即可。<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\# ---------------------------------------------------------------  </span><br><span class="line">\# Scheme<span class="built_in"> Settings </span> </span><br><span class="line">\# ---------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line">\# Schemes  </span><br><span class="line"><span class="comment">#scheme: Muse # 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白  </span></span><br><span class="line"><span class="comment">#scheme: Mist # Muse 的紧凑版本，整洁有序的单栏外观  </span></span><br><span class="line">scheme: Pisces # 双栏 Scheme，小家碧玉似的清新  </span><br><span class="line"><span class="comment">#scheme: Gemini # 类似 Pisces</span></span><br></pre></td></tr></table></figure></p><h2 id="设置菜单项的显示文本和图标"><a href="#设置菜单项的显示文本和图标" class="headerlink" title="设置菜单项的显示文本和图标"></a>设置菜单项的显示文本和图标</h2><p>NexT 使用的是 <a href="https://fontawesome.dashgame.com/" target="_blank" rel="noopener">Font Awesome</a> 提供的图标， Font Awesome 提供了 600+ 的图标，可以满足绝大的多数的场景，同时无须担心在 Retina 屏幕下图标模糊的问题。</p><h3 id="设置菜单项的显示中文文本："><a href="#设置菜单项的显示中文文本：" class="headerlink" title="设置菜单项的显示中文文本："></a>设置菜单项的显示中文文本：</h3><p>打开 <code>themes/next/languages/zh-Hans.yml</code> 文件,搜索 <code>menu</code> 关键字，修改对应中文或者新增。<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span>  </span><br><span class="line"><span class="symbol"> home:</span> 首页  </span><br><span class="line"><span class="symbol"> archives:</span> 归档  </span><br><span class="line"><span class="symbol"> categories:</span> 分类  </span><br><span class="line"><span class="symbol"> tags:</span> 标签  </span><br><span class="line"><span class="symbol"> about:</span> 关于  </span><br><span class="line"><span class="symbol"> search:</span> 搜索  </span><br><span class="line"><span class="symbol"> schedule:</span> 日程表  </span><br><span class="line"><span class="symbol"> sitemap:</span> 站点地图  </span><br><span class="line"><span class="symbol"> commonweal:</span> 公益<span class="number">404</span>  </span><br><span class="line"> <span class="meta"># 新增menu  </span></span><br><span class="line"><span class="symbol"> catalogue:</span> 目录</span><br></pre></td></tr></table></figure></p><h3 id="设定菜单项的文件目录和对应图标（新版两项合并）"><a href="#设定菜单项的文件目录和对应图标（新版两项合并）" class="headerlink" title="设定菜单项的文件目录和对应图标（新版两项合并）"></a>设定菜单项的文件目录和对应图标（新版两项合并）</h3><p>打开 <code>themes/next/_config.yml</code> 文件，搜索 <code>menu_icons</code> 关键字，修改对应图标名称或者新增对应 <code>menu</code> 的图标。<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">\#</span> ---------------------------------------------------------------  </span><br><span class="line"><span class="string">\#</span> Menu Settings  </span><br><span class="line"><span class="string">\#</span> ---------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line"><span class="string">\#</span> When running the site <span class="keyword">in</span> a subdirectory (e.g. domain.tld/blog), remove the leading slash <span class="keyword">from</span> link value (/archives<span class="function"> -&gt;</span> archives).  </span><br><span class="line"><span class="string">\#</span> Usage: <span class="string">\`Key:</span> <span class="regexp">/link/</span> || icon<span class="string">\`</span>  </span><br><span class="line"><span class="string">\#</span> Key <span class="keyword">is</span> the name <span class="keyword">of</span> menu item. If translate <span class="keyword">for</span> <span class="keyword">this</span> menu will find <span class="keyword">in</span> languages - <span class="keyword">this</span> translate will be loaded; <span class="keyword">if</span> <span class="keyword">not</span> - Key name will be used. Key <span class="keyword">is</span> <span class="keyword">case</span>-senstive.  </span><br><span class="line"><span class="string">\#</span> Value before `||` delimeter <span class="keyword">is</span> the target link.  </span><br><span class="line"><span class="string">\#</span> Value after `||` delimeter <span class="keyword">is</span> the name <span class="keyword">of</span> FontAwesome icon. If icon (<span class="keyword">with</span> <span class="keyword">or</span> without delimeter) <span class="keyword">is</span> <span class="keyword">not</span> specified, question icon will be loaded.  </span><br><span class="line">menu:  </span><br><span class="line"> home: / || home  </span><br><span class="line"> archives: <span class="regexp">/archives/</span> || history  </span><br><span class="line"> categories: <span class="regexp">/categories/</span> || list  </span><br><span class="line"> tags: <span class="regexp">/tags/</span> || tags  </span><br><span class="line"> tools: <span class="regexp">/categories/</span>工具资源/ || briefcase  </span><br><span class="line"> about: <span class="regexp">/about/</span> || user  </span><br><span class="line"> <span class="comment">#schedule: /schedule/ || calendar  </span></span><br><span class="line"> <span class="comment">#sitemap: /sitemap.xml || sitemap  </span></span><br><span class="line"> <span class="comment">#commonweal: /404/ || heartbeat  </span></span><br><span class="line">  </span><br><span class="line"><span class="string">\#</span> Enable/Disable menu icons.  </span><br><span class="line"><span class="string">\#</span> Icon Mapping:  </span><br><span class="line"><span class="string">\#</span>   Map a menu item <span class="keyword">to</span> a specific FontAwesome icon name.  </span><br><span class="line"><span class="string">\#</span>   Key <span class="keyword">is</span> the name <span class="keyword">of</span> menu item <span class="keyword">and</span> value <span class="keyword">is</span> the name <span class="keyword">of</span> FontAwesome icon. Key <span class="keyword">is</span> <span class="keyword">case</span>-senstive.  </span><br><span class="line"><span class="string">\#</span>   When an question mask icon presenting up means <span class="literal">that</span> the item has <span class="literal">no</span> mapping icon.  </span><br><span class="line">menu_icons:  </span><br><span class="line"> enable: <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><p>除了 home， archives , /后面都需要手动创建这个页面</p><h3 id="创建菜单项对应文件目录"><a href="#创建菜单项对应文件目录" class="headerlink" title="创建菜单项对应文件目录"></a>创建菜单项对应文件目录</h3><p>以分类为例，在终端窗口下，定位到 Hexo 站点目录下。使用 <code>hexo new page</code> 新建一个页面，命名为 <code>categories</code> ：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd your-hexo-site  </span><br><span class="line">hexo new<span class="built_in"> page </span>categories</span><br></pre></td></tr></table></figure></p><p>编辑刚新建的页面,设置分类<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\-\-\-  </span><br><span class="line"><span class="symbol">title:</span> 分类  </span><br><span class="line"><span class="symbol">date:</span> <span class="number">2014</span><span class="number">-12</span><span class="number">-22</span> <span class="number">12</span>:<span class="number">39</span>:<span class="number">04</span>  </span><br><span class="line"><span class="symbol">categories:</span> Testing <span class="meta">#分类名  </span></span><br><span class="line"><span class="symbol">type:</span> <span class="string">"categories"</span>  </span><br><span class="line">\-\-\-</span><br></pre></td></tr></table></figure></p><h2 id="头像设置"><a href="#头像设置" class="headerlink" title="头像设置"></a>头像设置</h2><h3 id="添加头像"><a href="#添加头像" class="headerlink" title="添加头像"></a>添加头像</h3><p>打开 <code>themes/next/_config.yml</code> 文件，搜索 <code>Sidebar Avatar</code> 关键字，去掉 <code>avatar</code> 前面的 <code>#</code>：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\# Sidebar Avatar  </span><br><span class="line">\# <span class="keyword">in</span> theme directory(source/images): /images/avatar.jpg  </span><br><span class="line">\# <span class="keyword">in</span> site  directory(source/uploads): /uploads/avatar.jpg  </span><br><span class="line">avatar: http:<span class="comment">//example.com/avatar.png</span></span><br></pre></td></tr></table></figure></p><p>或者使用本地图片,把图片放入 <code>themes/next/source/images</code> 下,修改 <code>avatar</code>：</p><p><code>avatar: /images/avatar.gif</code></p><h3 id="设置头像边框为圆形框"><a href="#设置头像边框为圆形框" class="headerlink" title="设置头像边框为圆形框"></a>设置头像边框为圆形框</h3><p>打开位于 <code>themes/next/source/css/_common/components/sidebar/sidebar-author.syl</code> 文件,修改如下:<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.site-author-<span class="built_in">image</span> &#123;  </span><br><span class="line"> <span class="built_in">display</span>: <span class="built_in">block</span>;  </span><br><span class="line"> margin: <span class="number">0</span> auto;  </span><br><span class="line"> padding: $site-author-<span class="built_in">image</span>-padding;  </span><br><span class="line"> <span class="built_in">max</span>-<span class="built_in">width</span>: $site-author-<span class="built_in">image</span>-<span class="built_in">width</span>;  </span><br><span class="line"> <span class="built_in">height</span>: $site-author-<span class="built_in">image</span>-<span class="built_in">height</span>;  </span><br><span class="line"> <span class="built_in">border</span>: $site-author-<span class="built_in">image</span>-<span class="built_in">border</span>-<span class="built_in">width</span> solid $site-author-<span class="built_in">image</span>-<span class="built_in">border</span>-<span class="built_in">color</span>;  </span><br><span class="line"> // 修改头像边框  </span><br><span class="line"> <span class="built_in">border</span>-<span class="built_in">radius</span>: <span class="number">50</span><span class="symbol">%</span>;  </span><br><span class="line"> -webkit-<span class="built_in">border</span>-<span class="built_in">radius</span>: <span class="number">50</span><span class="symbol">%</span>;  </span><br><span class="line"> -moz-<span class="built_in">border</span>-<span class="built_in">radius</span>: <span class="number">50</span><span class="symbol">%</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="特效：鼠标放置头像上旋转"><a href="#特效：鼠标放置头像上旋转" class="headerlink" title="特效：鼠标放置头像上旋转"></a>特效：鼠标放置头像上旋转</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;  </span><br><span class="line"> <span class="attribute">display</span>: block;  </span><br><span class="line"> <span class="attribute">margin</span>: <span class="number">0</span> auto;  </span><br><span class="line"> <span class="attribute">padding</span>: <span class="variable">$site-author-image-padding</span>;  </span><br><span class="line"> <span class="attribute">max-width</span>: <span class="variable">$site-author-image-width</span>;  </span><br><span class="line"> <span class="attribute">height</span>: <span class="variable">$site-author-image-height</span>;  </span><br><span class="line"> <span class="attribute">border</span>: <span class="variable">$site-author-image-border-width</span> solid <span class="variable">$site-author-image-border-color</span>;  </span><br><span class="line"> <span class="comment">// 修改头像边框  </span></span><br><span class="line"> <span class="attribute">border-radius</span>: <span class="number">50%</span>;  </span><br><span class="line"> -webkit-<span class="attribute">border-radius</span>: <span class="number">50%</span>;  </span><br><span class="line"> -moz-<span class="attribute">border-radius</span>: <span class="number">50%</span>;  </span><br><span class="line"> <span class="comment">// 设置旋转  </span></span><br><span class="line"> <span class="attribute">transition</span>: <span class="number">1.4s</span> all;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">// 可旋转的圆形头像,\`hover\`动作  </span></span><br><span class="line"><span class="selector-class">.site-author-image</span>:hover &#123;  </span><br><span class="line"> -webkit-<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);  </span><br><span class="line"> -moz-<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);  </span><br><span class="line"> -ms-<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);  </span><br><span class="line"> -<span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="浏览页面的时候显示当前浏览进度"><a href="#浏览页面的时候显示当前浏览进度" class="headerlink" title="浏览页面的时候显示当前浏览进度"></a>浏览页面的时候显示当前浏览进度</h3><p>打开 <code>themes/next/_config.yml</code> ,搜索关键字 <code>scrollpercent</code> ,把 <code>false</code> 改为 <code>true</code>。</p><h2 id="把top按钮放在侧边栏"><a href="#把top按钮放在侧边栏" class="headerlink" title="把top按钮放在侧边栏"></a>把top按钮放在侧边栏</h2><p>如果想把 top 按钮放在侧边栏,打开 <code>themes/next/_config.yml</code> ,搜索关键字 <code>b2t</code> ,把 <code>false</code> 改为 <code>true</code>。<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">\#</span> Back <span class="keyword">to</span> top <span class="keyword">in</span> sidebar  </span><br><span class="line"> b2t: <span class="literal">true</span>  </span><br><span class="line">  </span><br><span class="line"><span class="string">\#</span> Scroll percent label <span class="keyword">in</span> b2t button  </span><br><span class="line"> scrollpercent: <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><h2 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h2><h3 id="设置侧边栏社交链接"><a href="#设置侧边栏社交链接" class="headerlink" title="设置侧边栏社交链接"></a>设置侧边栏社交链接</h3><p>打开 <code>themes/next/_config.yml</code> 文件,搜索关键字 <code>social</code> ,然后添加社交站点名称与地址即可。<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">\#</span> ---------------------------------------------------------------  </span><br><span class="line"><span class="string">\#</span> Sidebar Settings  </span><br><span class="line"><span class="string">\#</span> ---------------------------------------------------------------  </span><br><span class="line">  </span><br><span class="line"><span class="string">\#</span> Social Links.  </span><br><span class="line"><span class="string">\#</span> Usage: <span class="string">\`Key:</span> permalink || icon<span class="string">\`</span>  </span><br><span class="line"><span class="string">\#</span> Key <span class="keyword">is</span> the link label showing <span class="keyword">to</span> end users.  </span><br><span class="line"><span class="string">\#</span> Value before `||` delimeter <span class="keyword">is</span> the target permalink.  </span><br><span class="line"><span class="string">\#</span> Value after `||` delimeter <span class="keyword">is</span> the name <span class="keyword">of</span> FontAwesome icon. If icon (<span class="keyword">with</span> <span class="keyword">or</span> without delimeter) <span class="keyword">is</span> <span class="keyword">not</span> specified, globe icon will be loaded.  </span><br><span class="line">social:  </span><br><span class="line"> E-Mail: mailto:yourname@gmail.com || envelope  </span><br><span class="line"> Google: https:<span class="regexp">//plus.google.com/yourname || google  </span></span><br><span class="line"><span class="regexp"> Twitter: https://</span>twitter.com/yourname || twitter  </span><br><span class="line"> FB Page: https:<span class="regexp">//www.facebook.com/yourname || facebook  </span></span><br><span class="line"><span class="regexp"> <span class="comment"># 等等</span></span></span><br></pre></td></tr></table></figure></p><h3 id="设置侧边栏社交图标"><a href="#设置侧边栏社交图标" class="headerlink" title="设置侧边栏社交图标"></a>设置侧边栏社交图标</h3><p>打开 <code>themes/next/_config.yml</code> 文件,搜索关键字 <code>social_icons</code> ，添加社交站点名称（注意大小写）图标，Font Awesome图标地。</p><h3 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h3><p>在你 Hexo 站点目录下：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-feed <span class="comment">--save</span></span><br></pre></td></tr></table></figure></p><p>打开 Hexo 站点下的 <code>_config.yml</code> ,添加如下配置：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">\<span class="meta"># feed  </span></span><br><span class="line">\<span class="meta"># Dependencies: https:<span class="comment">//github.com/hexojs/hexo-generator-feed  </span></span></span><br><span class="line"><span class="symbol">feed:</span>  </span><br><span class="line"><span class="symbol"> type:</span> atom  </span><br><span class="line"><span class="symbol"> path:</span> atom.xml  </span><br><span class="line"><span class="symbol"> limit:</span> <span class="number">20</span>  </span><br><span class="line"><span class="symbol"> hub:</span>  </span><br><span class="line"><span class="symbol"> content:</span></span><br></pre></td></tr></table></figure></p><h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h3><p>打开 <code>themes/next/_config.yml</code> 文件,搜索关键字 <code>Blog rolls</code>：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">\<span class="meta"># Blog rolls  </span></span><br><span class="line"><span class="symbol">links_title:</span> 友情链接 <span class="meta">#标题  </span></span><br><span class="line"><span class="symbol">links_layout:</span> block <span class="meta">#布局，一行一个连接  </span></span><br><span class="line"><span class="meta">#links_layout: inline  </span></span><br><span class="line"><span class="symbol">links:</span> <span class="meta">#连接  </span></span><br><span class="line"><span class="symbol"> baidu:</span> http:<span class="comment">//example.com/  </span></span><br><span class="line"><span class="symbol"> google:</span> http:<span class="comment">//example.com/  </span></span><br><span class="line"></span><br><span class="line"><span class="meta">## 主页文章添加边框阴影效果</span></span><br><span class="line"></span><br><span class="line">打开 `themes<span class="meta-keyword">/next/</span>source<span class="meta-keyword">/css/</span>_custom/custom.styl` ,向里面加代码:  </span><br><span class="line">``` </span><br><span class="line"><span class="comment">// 主页文章添加阴影效果  </span></span><br><span class="line">.<span class="class">post </span>&#123;  </span><br><span class="line"> margin-top: <span class="number">0</span>px;  </span><br><span class="line"> margin-bottom: <span class="number">60</span>px;  </span><br><span class="line"><span class="symbol"> padding:</span> <span class="number">25</span>px;  </span><br><span class="line"> -webkit-box-shadow: <span class="number">0</span> <span class="number">0</span> <span class="number">5</span>px rgba(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, <span class="number">.5</span>);  </span><br><span class="line"> -moz-box-shadow: <span class="number">0</span> <span class="number">0</span> <span class="number">5</span>px rgba(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, <span class="number">.5</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="修改文章间分割线"><a href="#修改文章间分割线" class="headerlink" title="修改文章间分割线"></a>修改文章间分割线</h2><p>打开 <code>themes/next/source/css/_common/components/post/post-eof.styl</code> ,修改：<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.posts-expand</span> &#123;  </span><br><span class="line"> <span class="selector-class">.post-eof</span> &#123;  </span><br><span class="line"> <span class="attribute">display</span>: block;  </span><br><span class="line"> <span class="comment">//  margin: $post-eof-margin-top auto $post-eof-margin-bottom;  </span></span><br><span class="line"> <span class="attribute">width</span>: <span class="number">0%</span>; <span class="comment">//分割线长度  </span></span><br><span class="line"> <span class="attribute">height</span>: <span class="number">0px</span>; <span class="comment">// 分割线高度  </span></span><br><span class="line"> <span class="attribute">background</span>: <span class="variable">$grey-light</span>;  </span><br><span class="line"> <span class="attribute">text-align</span>: center;  </span><br><span class="line"> &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="代码块自定义样式"><a href="#代码块自定义样式" class="headerlink" title="代码块自定义样式"></a>代码块自定义样式</h2> <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Custom styles.  </span></span><br><span class="line"><span class="selector-tag">code</span> &#123;  </span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#ff7600</span>;  </span><br><span class="line"> <span class="attribute">background</span>: <span class="number">#fbf7f8</span>;  </span><br><span class="line"> <span class="attribute">margin</span>: <span class="number">2px</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">// 边框的自定义样式  </span></span><br><span class="line"><span class="selector-class">.highlight</span>, pre &#123;  </span><br><span class="line"> <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;  </span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">5px</span>;  </span><br><span class="line"> <span class="attribute">border-radius</span>: <span class="number">3px</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">code</span>, pre &#123;  </span><br><span class="line"> <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d6d6d6</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="开启版权声明"><a href="#开启版权声明" class="headerlink" title="开启版权声明"></a>开启版权声明</h2><p>主题配置文件下,搜索关键字 <code>post_copyright</code> , <code>enable</code> 改为 <code>true</code>：<br> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">\#</span> <span class="string">Declare</span> <span class="string">license</span> <span class="string">on</span> <span class="string">posts</span>  </span><br><span class="line"><span class="attr">post_copyright:</span>  </span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span>  </span><br><span class="line"><span class="attr"> license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span>  </span><br><span class="line"><span class="attr"> license_url:</span> <span class="attr">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure></p><p>自定义文章底部版权声明<br>  <figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">作者：Dragonstyle  </span><br><span class="line">链接：http:<span class="comment">//www.dragonstyle.win/2017/09/06/Android-Studio个人设置/  </span></span><br><span class="line">來源：简书  </span><br><span class="line">版权声明： 本博客所有文章除特别声明外，均采用 <span class="keyword">CC</span> <span class="keyword">BY</span>-NC-<span class="keyword">SA</span> 4.0 许可协议。转载请注明出处！</span><br></pre></td></tr></table></figure></p><p>在目录 <code>themes/next/layout/_macro/</code> 下添加 <code>my-copyright.swig</code> ,内容如下:<br> <figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> page.copyright %&#125;</span><span class="xml">  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"my\_post\_copyright"</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span></span><br><span class="line"><span class="xml">  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">!\-\-</span> <span class="attr">JS</span>库 <span class="attr">sweetalert</span> 可修改路径 <span class="attr">--</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css"</span>&gt;</span>  </span></span><br><span class="line"><span class="xml">  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>本文标题:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.title &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>文章作者:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123; theme.author &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>发布时间:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.date.format("YYYY年MM月DD日 - HH:mm:ss") &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>最后更新:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.updated.format("YYYY年MM月DD日 - HH:mm:ss") &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>原始链接:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; url_for(page.path) &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">title</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; page.title &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span><span class="template-variable">&#123;&#123; page.permalink &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"copy-path"</span>  <span class="attr">title</span>=<span class="string">"点击复制文章链接"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-clipboard"</span> <span class="attr">data-clipboard-text</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; page.permalink &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>  <span class="attr">aria-label</span>=<span class="string">"复制成功！"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>许可协议:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-creative-commons"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">"license"</span> <span class="attr">href</span>=<span class="string">"https://creativecommons.org/licenses/by-nc-nd/4.0/"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"</span>&gt;</span>署名-非商业性使用-禁止演绎 4.0 国际<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 转载请保留原文链接及作者。<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">  </span></span></span><br><span class="line"><span class="xml"> var clipboard = new Clipboard('.fa-clipboard');  </span></span><br><span class="line"><span class="xml"> clipboard.on('success', $(function()&#123;  </span></span><br><span class="line"><span class="xml"> $(".fa-clipboard").click(function()&#123;  </span></span><br><span class="line"><span class="xml"> swal(&#123;  </span></span><br><span class="line"><span class="xml"> title: "",  </span></span><br><span class="line"><span class="xml"> text: '复制成功',  </span></span><br><span class="line"><span class="xml"> html: false,  </span></span><br><span class="line"><span class="xml"> timer: 500,  </span></span><br><span class="line"><span class="xml"> showConfirmButton: false  </span></span><br><span class="line"><span class="xml"> &#125;);  </span></span><br><span class="line"><span class="xml"> &#125;);  </span></span><br><span class="line"><span class="xml"> &#125;));  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p><p>在目录 <code>themes/next/source/css/_common/components/post/</code> 下添加 <code>my-post-copyright.styl</code>,内容如下:<br> <figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.my</span>\_post\_copyright &#123;  </span><br><span class="line"> <span class="attribute">width</span>: <span class="number">85%</span>;  </span><br><span class="line"> <span class="attribute">max-width</span>: <span class="number">45em</span>;  </span><br><span class="line"> <span class="attribute">margin</span>: <span class="number">2.8em</span> auto <span class="number">0</span>;  </span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">0.5em</span> <span class="number">1.0em</span>;  </span><br><span class="line"> <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d3d3d3</span>;  </span><br><span class="line"> <span class="attribute">font-size</span>: <span class="number">0.93rem</span>;  </span><br><span class="line"> <span class="attribute">line-height</span>: <span class="number">1.6em</span>;  </span><br><span class="line"> <span class="attribute">word-break</span>: break-all;  </span><br><span class="line"> <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.4</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-tag">p</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>;&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-tag">span</span> &#123;  </span><br><span class="line"> <span class="attribute">display</span>: inline-block;  </span><br><span class="line"> <span class="attribute">width</span>: <span class="number">5.2em</span>;  </span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#333333</span>; <span class="comment">// title color  </span></span><br><span class="line"> <span class="attribute">font-weight</span>: bold;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-class">.raw</span> &#123;  </span><br><span class="line"> <span class="attribute">margin-left</span>: <span class="number">1em</span>;  </span><br><span class="line"> <span class="attribute">width</span>: <span class="number">5em</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-tag">a</span> &#123;  </span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#808080</span>;  </span><br><span class="line"> <span class="attribute">border-bottom</span>:<span class="number">0</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-tag">a</span>:hover &#123;  </span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#0593d3</span>; <span class="comment">// link color  </span></span><br><span class="line"> <span class="attribute">text-decoration</span>: underline;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright:hover <span class="selector-class">.fa-clipboard</span> &#123;  </span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#000</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-class">.post-url</span>:hover &#123;  </span><br><span class="line"> <span class="attribute">font-weight</span>: normal;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-class">.copy-path</span> &#123;  </span><br><span class="line"> <span class="attribute">margin-left</span>: <span class="number">1em</span>;  </span><br><span class="line"> <span class="attribute">width</span>: <span class="number">1em</span>;  </span><br><span class="line"> +mobile()&#123;<span class="attribute">display</span>:none;&#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-class">.my</span>\_post\_copyright <span class="selector-class">.copy-path</span>:hover &#123;  </span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#808080</span>;  </span><br><span class="line"> <span class="attribute">cursor</span>: pointer;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>修改 <code>themes/next/layout/_macro/post.swig</code> ,在代码如下：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.wechat\_subscriber.enabled and not is\_index %&#125;</span><span class="xml">  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'wechat-subscriber.swig' %&#125;</span><span class="xml">  </span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p><p>之前添加增加如下代码：<br> <figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml">  </span></span><br><span class="line"><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'my-copyright.swig' %&#125;</span><span class="xml">  </span></span><br><span class="line"><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml">  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>修改 <code>themes/next/source/css/_common/components/post/post.styl</code> 文件，在最后一行增加代码：<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"my-post-copyright"</span></span><br></pre></td></tr></table></figure></p><p>设置新建文章自动开启 copyright,即新建文章自动显示自定义的版权声明,设置 <code>your site/scaffolds/post.md</code>文件<br> <figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">\-\-\-  </span><br><span class="line">title: &#123;&#123; title &#125;&#125;  </span><br><span class="line">date: &#123;&#123; date &#125;&#125;  </span><br><span class="line"><span class="keyword">tags:</span>  </span><br><span class="line">type: "categories"  </span><br><span class="line">categories:  </span><br><span class="line">copyright: true #新增,开启  </span><br><span class="line">\-\-\-</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用&lt;a href=&quot;https://lnmp.org&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;lnmp.org&lt;/a&gt;的lnmp安装一键包，按程序安装好即可，并顺手创建一个虚拟主机，不需要重写，不需要数据库。&lt;/p&gt;
    
    </summary>
    
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
      <category term="建站" scheme="https://blog.lvcshu.com/tags/%E5%BB%BA%E7%AB%99/"/>
    
      <category term="hexo" scheme="https://blog.lvcshu.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>cloudreve体验报告</title>
    <link href="https://blog.lvcshu.com/2018/05/09/cloudreve%E4%BD%93%E9%AA%8C%E6%8A%A5%E5%91%8A/"/>
    <id>https://blog.lvcshu.com/2018/05/09/cloudreve体验报告/</id>
    <published>2018-05-08T21:30:37.000Z</published>
    <updated>2018-12-24T16:18:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>自从360云盘把业务收缩回企业用户之时，笔者就在不断的寻觅适合个人用户使用的私有云盘，但是纵观网络的各种各样的云盘，不是过于简单，就是部署过于复杂，还有就是会出现各种各样奇奇怪怪的问题（比如nextcloud），<br><a id="more"></a><br>所以在不断的尝试中，终于发现了一个比较符合使用习惯的云盘程序 —&gt; cloudreve</p><p><a href="https://cloudreve.org/" target="_blank" rel="noopener">助您以最低的成本快速搭建公私兼备的网盘系统</a></p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>　　由于官网已经有了比较详细的安装教程，在此不再赘述，无非是：安装lnmp环境、创建虚拟主机、获取程序、编辑数据库连接信息、把 fileinfo 的 php 扩展加载进去、修改 nginx 设置。</p><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>　　进入页迎面而来是一个漂亮的首页，点击登录使用默认账户登录，经过一番体验，将优缺点一一总结如下</p><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul><li>多用户支持（可以和好基友家里人互不干扰的使用一套云盘）</li><li>完善的分享功能（提供公开分享与私密分享，界面简洁）</li><li>一键提取文件外链（wget 神器）</li><li>自定义文件上传策略（保障服务器安全）</li><li>支持与 aria2 离线下载对接</li><li>安装简便</li><li>webdav 支持<br>………</li></ul><h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><p>不支持扫描本地文件（文件上传只能通过网页端，大概是要用数据库管理）</p><h1 id="总评"><a href="#总评" class="headerlink" title="总评"></a>总评</h1><p>cloudreve 已经是一款相当成熟的云盘程序，是继 owncloud、nextcloud以后的私有云盘的不二选择</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;自从360云盘把业务收缩回企业用户之时，笔者就在不断的寻觅适合个人用户使用的私有云盘，但是纵观网络的各种各样的云盘，不是过于简单，就是部署过于复杂，还有就是会出现各种各样奇奇怪怪的问题（比如nextcloud），&lt;br&gt;
    
    </summary>
    
    
      <category term="私有云盘" scheme="https://blog.lvcshu.com/tags/%E7%A7%81%E6%9C%89%E4%BA%91%E7%9B%98/"/>
    
      <category term="折腾" scheme="https://blog.lvcshu.com/tags/%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>还不给你的网站加上https？</title>
    <link href="https://blog.lvcshu.com/2018/02/11/%E8%BF%98%E4%B8%8D%E7%BB%99%E4%BD%A0%E7%9A%84%E7%BD%91%E7%AB%99%E5%8A%A0%E4%B8%8Ahttps%EF%BC%9F/"/>
    <id>https://blog.lvcshu.com/2018/02/11/还不给你的网站加上https？/</id>
    <published>2018-02-10T21:47:16.000Z</published>
    <updated>2018-12-24T16:18:29.000Z</updated>
    
    <content type="html"><![CDATA[<ul><li>什么是https？<br>现在，请看到你的浏览器的网址栏，你会看到会有一个绿色的锁或者类似的安全标志，这说明我的博客加上了https保障数据传送的安全性~<a id="more"></a>那么，什么是https呢？</li></ul><blockquote><p>HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的HTTP通道，简单讲是HTTP的安全版。<br>来自百度百科</p></blockquote><p>简单的来说https就是保障了这个网站的呈现给你的内容没有被擅改</p><h1 id="一个小故事"><a href="#一个小故事" class="headerlink" title="一个小故事"></a>一个小故事</h1><p>但是，https并不是绝对安全的，我在知乎上看到了这样一个故事：(斜体为笔者注释)</p><p>从前山上有座庙，庙里有个和尚……，别胡闹了，老和尚来了。</p><p>小和尚问老和尚：ssl为什么会让http安全？</p><p>老和尚答道：譬如你我都有一个同样的密码，我发信给你时用这个密码加密，你收到我发的信，用这个密码解密，就能知道我信的内容，其他的闲杂人等，就算偷偷拿到了信，由于不知道这个密码，也只能望信兴叹，这个密码就叫做对称密码。ssl使用对称密码对http内容进行加解密，所以让http安全了，常用的加解密算法主要有3DES和AES等。</p><p>小和尚摸摸脑袋问老和尚：师傅，如果我们两人选择“和尚”作为密码，再创造一个和尚算法，我们俩之间的通信不就高枕无忧了？</p><p>老和尚当头给了小和尚一戒尺：那我要给山下的小花写情书，还得用“和尚”这个密码不成？想了想又给了小和尚一戒尺：虽然我们是和尚，不是码农，也不能自己造轮子，当初一堆牛人码农造出了Wifi的安全算法WEP，后来发现是一绣花枕头，在安全界传为笑谈；况且小花只知道3DES和AES，哪知道和尚算法？</p><p>小和尚问到：那师傅何解？</p><p>老和尚：我和小花只要知道每封信的密码，就可以读到对方加密的信件，关键是我们互相之间怎么知道这个对称密码。你说，我要是将密码写封信给她，信被别人偷了，那大家不都知道我们的密码了，也就能够读懂我们情书了。不过还是有解的，这里我用到了江湖中秘传的非对称密码。我现在手头有两个密码，一个叫“公钥”，一个叫“私钥”，公钥发布到了江湖上，好多人都知道，私钥嘛，江湖上只有我一个人知道；这两个密钥有数学相关性，就是说用公钥加密的信件，可以用私钥解开，但是用公钥却解不开。公钥小花是知道的，她每次给我写信，都要我的公钥加密她的对称密码，单独写一张密码纸，然后用她的对称密码加密她的信件，这样我用我的私钥可以解出这个对称密码，再用这个对称密码来解密她的信件。</p><p>这种加密方法即自己生成自签证书，这种做法是不完全安全的，具体表现为Chrome地址栏划掉的红色https</p><p>老和尚顿了顿：可惜她用的对称密码老是“和尚为什么写情书”这一类，所以我每次解开密码纸时总是怅然若失，其实我钟意的对称密码是诸如“风花”“雪月”什么的，最头痛的是，我还不得不用“和尚为什么写情书”这个密码来加密我给小花回的情书，人世间最痛苦的事莫过于如此。可我哪里知道，其实有人比我更痛苦。山下的张屠夫，暗恋小花很多年，看着我们鸿雁传书，心中很不是滋味，主动毛遂自荐代替香客给我们送信。在他第一次给小花送信时，就给了小花他自己的公钥，谎称是我公钥刚刚更新了，小花信以为真，之后的信件对称密码都用张屠夫的这个公钥加密了，张屠夫拿到回信后，用他自己的私钥解开了小花的对称密码，然后用这个对称密码，不仅能够看到了小花信件的所有内容，还能使用这个密码伪造小花给我写信，同时还能用他的私钥加密给小花的信件。渐渐我发现信件变味了，尽管心生疑惑，但是没有确切的证据，一次我写信问小花第一次使用的对称密码，回信中“和尚为什么写情书”赫然在列，于是我的疑惑稍稍减轻。直到有一次去拜会嵩山少林寺老方丈才顿悟，原来由于我的公钥没有火印，任何人都可以伪造一份公钥宣称是我的，这样这个人即能读到别人写给我的信，也能伪造别人给我写信，同样也能读到我的回信，也能伪造我给别人的回信，这种邪门武功江湖上称之“Man-in-the-middle attack”（即中间人攻击）。唯一的破解就是使用嵩山少林寺的火印（即由CA机构颁发的证书），这个火印可有讲究了，需要将我的公钥及个人在江湖地位提交给18罗汉委员会，他们会根据我的这些信息使用委员会私钥进行数字签名，签名的信息凸现在火印上，有火印的公钥真实性在江湖上无人质疑，要知道18罗汉可是无人敢得罪的。</p><p>小和尚问：那然后呢？</p><p>老和尚：从嵩山少林寺回山上寺庙时，我将有火印的公钥亲自给小花送去，可是之后再也没有收到小花的来信。过了一年才知道，其实小花还是给我写过信的，当时信确实是用有火印的公钥加密，张屠夫拿到信后，由于不知道我的私钥，解不开小花的密码信，所以一怒之下将信件全部烧毁了。也由于张屠夫无法知道小花的对称密码而无法回信，小花发出几封信后石沉大海，也心生疑惑，到处打听我的近况。这下张屠夫急了，他使用我发布的公钥，仿照小花的语气，给我发来一封信。拿到信时我就觉得奇怪，信纸上怎么有一股猪油的味道，结尾竟然还关切的询问我的私钥。情知有诈，我思量无论如何要找到办法让我知道来的信是否真是小花所写。后来竟然让我想到了办法….</p><p>老和尚摸着光头说：这头发可不是白掉的，我托香客给小花带话，我一切安好，希望她也拥有属于自己的一段幸福，不对，是一对非对称密钥。小花委托小镇美女协会给小花公钥打上火印后，托香客给我送来，这样小花在每次给我写信时，都会在密码纸上贴上一朵小牡丹，牡丹上写上用她自己的私钥加密过的给我的留言，这样我收到自称是小花的信后，我会先抽出密码纸，取下小牡丹，使用小花的公钥解密这段留言，如果解不出来，我会直接将整封信连同密码纸一起扔掉，因为这封信一定不是小花写的，如果能够解出来，这封信才能确信来之于小花，我才仔细的解码阅读。</p><p>小和尚：难怪听说张屠夫是被活活气死的。您这情书整的，我头都大了，我长大后，有想法直接扯着嗓子对山下喊，也省的这么些麻烦。不过我倒是明白了楼上的话，ssl 握手阶段，就是要解决什么看火印，读牡丹，解密码纸，确实够麻烦的，所以性能瓶颈在这里，一旦双方都知道了对称密码，之后就是行云流水的解码读信阶段了，相对轻松很多。</p><p>编辑于 2014-04-28</p><p>著作权归作者所有</p><blockquote><p>来源:【HTTPS 要比 HTTP 多用多少服务器资源？】牟旭东的回答</p></blockquote><p>但是 并不是所有的CA机构所颁发的证书都是值得信任的，例如：</p><blockquote><p>违反多项凭证机构要求，Chrome 全面取消对中国沃通的 SSL 证书信任</p></blockquote><blockquote><p>2016 年 9 月 Mozilla 揭发中国凭证机构 WoSign（沃通）伪造证书发行日期、隐瞒收购同行等问题，宣布暂停信任该机构发出的证书，苹果、Google 也跟随。近日 Google 宣布，旗下的 Chrome 浏览器在 9 月发布新版本后，将对 WoSign 及其收购的 StartCom 签发所有证书，不论新旧全部取消信任，建议正在使用的网站考虑更换这些数位证书。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;什么是https？&lt;br&gt;现在，请看到你的浏览器的网址栏，你会看到会有一个绿色的锁或者类似的安全标志，这说明我的博客加上了https保障数据传送的安全性~
    
    </summary>
    
    
      <category term="安全" scheme="https://blog.lvcshu.com/tags/%E5%AE%89%E5%85%A8/"/>
    
      <category term="建站" scheme="https://blog.lvcshu.com/tags/%E5%BB%BA%E7%AB%99/"/>
    
      <category term="SSL" scheme="https://blog.lvcshu.com/tags/SSL/"/>
    
  </entry>
  
  <entry>
    <title>配置ufw防火墙，守护你的Ubuntu</title>
    <link href="https://blog.lvcshu.com/2018/01/15/%E9%85%8D%E7%BD%AEufw%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%8C%E5%AE%88%E6%8A%A4%E4%BD%A0%E7%9A%84Ubuntu/"/>
    <id>https://blog.lvcshu.com/2018/01/15/配置ufw防火墙，守护你的Ubuntu/</id>
    <published>2018-01-14T21:21:10.000Z</published>
    <updated>2018-12-24T16:18:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>很久以来许许多多人催促着我赶快配置好防火墙规则以保护vps，但是。。。配置繁琐的iptables使我望而却步<del>（其实就是懒</del></p><p>直到我发现了ufw这个神器</p><blockquote><p>UFW 全称为 UncomplicatedFirewall[1]，是 Ubuntu 系统上默认的防火墙组件, 为了轻量化配置 iptables 而开发的一款工具。UFW 提供一个非常友好的界面用于创建基于IPV4，IPV6的防火墙规则。</p></blockquote><p>废话不多说，上教程</p><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><p>Ubuntu 16.04</p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt <span class="keyword">install</span> ufw</span><br></pre></td></tr></table></figure><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>首先先打开ssh端口<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ufw allow ssh</span></span><br></pre></td></tr></table></figure></p><p>如果你的ssh端口不是默认的22，就<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ufw</span> allow 你的ssh端口</span><br></pre></td></tr></table></figure></p><p>打开53端口，使dns功能不受影响<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ufw allow <span class="number">53</span>/tcp</span><br><span class="line">ufw allow <span class="number">53</span>/udp</span><br></pre></td></tr></table></figure></p><p>可选：打开80，443端口<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ufw allow <span class="keyword">http</span>/tcp</span><br><span class="line">ufw allow <span class="keyword">https</span>/tcp</span><br></pre></td></tr></table></figure></p><p>然后<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw<span class="built_in"> default </span>deny</span><br></pre></td></tr></table></figure></p><p>阻断除上述规则外的外部连接（本机外发流量无影响）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw <span class="built_in">enable</span></span><br></pre></td></tr></table></figure></p><p>启动防火墙，done！</p><h1 id="操作指令"><a href="#操作指令" class="headerlink" title="操作指令"></a>操作指令</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">启动防火墙 ufw enable</span><br><span class="line">关闭防火墙 ufw disable</span><br><span class="line">更新配置 ufw reload</span><br><span class="line">查看防火墙状态 ufw status</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;很久以来许许多多人催促着我赶快配置好防火墙规则以保护vps，但是。。。配置繁琐的iptables使我望而却步&lt;del&gt;（其实就是懒&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;直到我发现了ufw这个神器&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;UFW 全称为 UncomplicatedFir
      
    
    </summary>
    
    
      <category term="安全" scheme="https://blog.lvcshu.com/tags/%E5%AE%89%E5%85%A8/"/>
    
      <category term="UFW" scheme="https://blog.lvcshu.com/tags/UFW/"/>
    
      <category term="ubuntu" scheme="https://blog.lvcshu.com/tags/ubuntu/"/>
    
  </entry>
  
</feed>
